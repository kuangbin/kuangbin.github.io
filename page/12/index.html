<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">






  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="kuangbin的博客">
<meta property="og:url" content="http://kuangbin.github.io/page/12/index.html">
<meta property="og:site_name" content="kuangbin的博客">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kuangbin的博客">



  <link rel="alternate" href="/atom.xml" title="kuangbin的博客" type="application/atom+xml" />




  <link rel="canonical" href="http://kuangbin.github.io/page/12/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>kuangbin的博客</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
	
	<a href="https://github.com/kuangbin"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">kuangbin的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-catalogue">
    <a href="/catalogue/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />目录</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/22/hdu4862/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/22/hdu4862/" itemprop="url">
                  HDU 4862 Jump （最小费用最大流）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-22 23:23:39" itemprop="dateCreated datePublished" datetime="2014-07-22T23:23:39+08:00">2014-07-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 21:02:40" itemprop="dateModified" datetime="2018-07-29T21:02:40+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Online-Judge/" itemprop="url" rel="index"><span itemprop="name">Online Judge</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/" itemprop="url" rel="index"><span itemprop="name">HDU</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/网络流/" itemprop="url" rel="index"><span itemprop="name">网络流</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HDU-4862"><a href="#HDU-4862" class="headerlink" title="HDU 4862"></a>HDU 4862</h1><h1 id="Jump"><a href="#Jump" class="headerlink" title="Jump"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4862" target="_blank" rel="noopener">Jump</a></h1><p>  最小费用最大流。 很经典的网络流建图。  </p>
<h1 id="Jump-1"><a href="#Jump-1" class="headerlink" title="Jump"></a>Jump</h1><p><strong>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others) Total Submission(s): 189    Accepted Submission(s): 63</strong>  </p>
<p>Problem Description</p>
<p>There are n*m grids, each grid contains a number, ranging from 0-9. Your initial energy is zero. You can play up to K times the game, every time you can choose any one of the grid as a starting point (but not traveled before) then you can choose a grid on the right or below the current grid to jump, but it has not traveled before. Every time you can jump as many times as you want, as long as you do not violate rules. If you are from (x1, y1) to (x2, y2), then you consume |x1-x2|+|y1-y2|-1 energies. Energy can be negative. However, in a jump, if you start position and end position has same numbers S, then you can increase the energy value by S. Give me the maximum energy you can get. Notice that you have to go each grid exactly once and you don’t have to play exactly K times.</p>
<p>Input</p>
<p>The first line is an integer T, stands for the number of the text cases. Then T cases followed and each case begin with three numbers N, M and K. Means there are N rows and M columns, you have K times to play. Then N lines follow, each line is a string which is made up by M numbers. The grids only contain numbers from 0 to 9. (T&lt;=100, N&lt;=10，M&lt;=10，K&lt;=100)</p>
<p>Output</p>
<p>Each case, The first you should output “Case x : ”,(x starting at 1),then output The maximum number of energy value you can get. If you can’t reach every grid in no more than K times, just output -1.</p>
<p>Sample Input</p>
<p>5 1 5 1 91929 1 5 2 91929 1 5 3 91929 3 3 3 333 333 333 3 3 2 333 333 333</p>
<p>Sample Output</p>
<p>Case 1 : 0 Case 2 : 15 Case 3 : 16 Case 4 : 18 Case 5 : -1</p>
<p>Author</p>
<p>FZU</p>
<p>Source</p>
<p><a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2014%20Multi-University%20Training%20Contest%201&amp;source=1&amp;searchmode=source" target="_blank" rel="noopener">2014 Multi-University Training Contest 1</a></p>
<pre><code>建图方法： 左右各n*m个点。加一个源点和一个汇点。 源点向左侧的每一个点连一条流量为1，费用为0的边。 右侧点连一条流量为1，费用为0的边到汇点。 如果左侧点的点，可以转移的话，对应连一条左侧点到右侧点的边，一步到达。 费用是消耗的费用-获得的费用。   再加一个点，起点到这个点连流量为1，费用为0的边。这个点向右侧的点连一条流量为1，费用为0的边。。   如果非满流，则不满足。 否则最小费用相反数就是最大收益。  
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/22 22:53:24</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\比赛\2014多校训练\2014多校1\2014 Multi-University Training Contest 1（标程+数据）\多校第一场（标程+数据）\HDU4862.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> to,next,cap,flow,cost;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN],tol;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre[MAXN],dis[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vis[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	N = n;</span><br><span class="line"></span><br><span class="line">	tol = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> cap,<span class="keyword">int</span> cost)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	edge[tol].to = v;</span><br><span class="line"></span><br><span class="line">	edge[tol].cap = cap;</span><br><span class="line"></span><br><span class="line">	edge[tol].cost = cost;</span><br><span class="line"></span><br><span class="line">	edge[tol].flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].next = head[u];</span><br><span class="line"></span><br><span class="line">	head[u] = tol++;</span><br><span class="line"></span><br><span class="line">	edge[tol].to = u;</span><br><span class="line"></span><br><span class="line">	edge[tol].cap = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].cost = -cost;</span><br><span class="line"></span><br><span class="line">	edge[tol].flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].next = head[v];</span><br><span class="line"></span><br><span class="line">	head[v] = tol++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		dis[i] = INF;</span><br><span class="line"></span><br><span class="line">		vis[i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		pre[i] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	dis[s] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	vis[s] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	q.push(s);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(!q.empty())</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> u = q.front();</span><br><span class="line"></span><br><span class="line">		q.pop();</span><br><span class="line"></span><br><span class="line">		vis[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> v = edge[i].to;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; </span><br><span class="line"></span><br><span class="line">					dis[v] &gt; dis[u] +edge[i].cost)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				dis[v] = dis[u] + edge[i].cost;</span><br><span class="line"></span><br><span class="line">				pre[v] = i;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(!vis[v])</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					vis[v] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					q.push(v);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(pre[t] == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostMaxflow</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> &amp;cost)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	cost = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(spfa(s,t))</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> Min = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = pre[t];i != <span class="number">-1</span> ;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(Min &gt; edge[i].cap - edge[i].flow)</span><br><span class="line"></span><br><span class="line">				Min = edge[i].cap - edge[i].flow;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = pre[t];i != <span class="number">-1</span>;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			edge[i].flow += Min;</span><br><span class="line"></span><br><span class="line">			edge[i^<span class="number">1</span>].flow -= Min;</span><br><span class="line"></span><br><span class="line">			cost += edge[i].cost*Min;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		flow += Min;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> flow;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m,k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">12</span>][<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	init(<span class="number">2</span>*n*m + <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> start = <span class="number">2</span>*n*m;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> end = <span class="number">2</span>*n*m+<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">	addedge(start,start+<span class="number">1</span>,k,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			addedge(start,<span class="number">2</span>(im+j),<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">			addedge(<span class="number">2</span>(im+j)+<span class="number">1</span>,end,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">			addedge(start+<span class="number">1</span>,<span class="number">2</span>(im+j)+<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> y = j+<span class="number">1</span>;y &lt; m;y++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(str[i][y] == str[i][j])</span><br><span class="line"></span><br><span class="line">					addedge(<span class="number">2</span>(i*m+j),<span class="number">2</span>*(im+y)+<span class="number">1</span>,<span class="number">1</span>,-(str[i][j]-<span class="string">'0'</span>)+y-j<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> addedge(<span class="number">2</span>(i*m+j),<span class="number">2</span>*(im+y)+<span class="number">1</span>,<span class="number">1</span>,y-j<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> x = i+<span class="number">1</span>; x &lt; n;x++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(str[x][j] == str[i][j])</span><br><span class="line"></span><br><span class="line">					addedge(<span class="number">2</span>(i*m+j),<span class="number">2</span>*(xm+j)+<span class="number">1</span>,<span class="number">1</span>,-(str[i][j]-<span class="string">'0'</span>)+x-i<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> addedge(<span class="number">2</span>(i*m+j),<span class="number">2</span>*(xm+j)+<span class="number">1</span>,<span class="number">1</span>,x-i<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> cost;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> flow = minCostMaxflow(start,end,cost);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(flow != n*m)<span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,-cost);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>,str[i]);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d : "</span>,iCase);</span><br><span class="line"></span><br><span class="line">		solve();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/22/hdu4861/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/22/hdu4861/" itemprop="url">
                  HDU 4861 Couple doubi
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-22 22:34:36" itemprop="dateCreated datePublished" datetime="2014-07-22T22:34:36+08:00">2014-07-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 21:02:07" itemprop="dateModified" datetime="2018-07-29T21:02:07+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Online-Judge/" itemprop="url" rel="index"><span itemprop="name">Online Judge</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/" itemprop="url" rel="index"><span itemprop="name">HDU</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>HDU 4861</p>
<h1 id="Couple-doubi"><a href="#Couple-doubi" class="headerlink" title="Couple doubi"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4861" target="_blank" rel="noopener">Couple doubi</a></h1><p>  一个水题。 可以随便找规律。</p>
<h1 id="Couple-doubi-1"><a href="#Couple-doubi-1" class="headerlink" title="Couple doubi"></a>Couple doubi</h1><p><strong>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others) Total Submission(s): 221    Accepted Submission(s): 186</strong>  </p>
<p>Problem Description</p>
<p>DouBiXp has a girlfriend named DouBiNan.One day they felt very boring and decided to play some games. The rule of this game is as following. There are k balls on the desk. Every ball has a value and the value of ith (i=1,2,…,k) ball is 1^i+2^i+…+(p-1)^i (mod p). Number p is a prime number that is chosen by DouBiXp and his girlfriend. And then they take balls in turn and DouBiNan first. After all the balls are token, they compare the sum of values with the other ,and the person who get larger sum will win the game. You should print “YES” if DouBiNan will win the game. Otherwise you should print “NO”.</p>
<p>Input</p>
<p>Multiply Test Cases. In the first line there are two Integers k and p(1&lt;k,p&lt;2^31).</p>
<p>Output</p>
<p>For each line, output an integer, as described above.</p>
<p>Sample Input</p>
<p>2 3 20 3</p>
<p>Sample Output</p>
<p>YES NO</p>
<p>Author</p>
<p>FZU</p>
<p>Source</p>
<p><a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2014%20Multi-University%20Training%20Contest%201&amp;source=1&amp;searchmode=source" target="_blank" rel="noopener">2014 Multi-University Training Contest 1</a></p>
<p>1^k + 2^k + 3^k + (p-1)^k    % p 只有当k|p-1的时候才等于p-1,其余都是0的。 故非零的个数是 k/(p-1) 判断这个是奇数还是偶数就可以了。  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/22 22:11:38</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\比赛\2014多校训练\2014多校1\2014 Multi-University Training Contest 1（标程+数据）\多校第一场（标程+数据）\HDU4861.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> k,p;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;k,&amp;p) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> t = k/(p<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(t&amp;<span class="number">1</span>)<span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/21/2012dhaka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/21/2012dhaka/" itemprop="url">
                  Regionals 2012 :: Asia - Dhaka
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-21 22:30:18" itemprop="dateCreated datePublished" datetime="2014-07-21T22:30:18+08:00">2014-07-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 20:06:28" itemprop="dateModified" datetime="2018-07-29T20:06:28+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Contest/" itemprop="url" rel="index"><span itemprop="name">Contest</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/套题/" itemprop="url" rel="index"><span itemprop="name">套题</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="2012Dhaka"><a href="#2012Dhaka" class="headerlink" title="2012Dhaka"></a>2012Dhaka</h2><p>题目链接：<a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555" target="_blank" rel="noopener">UVALive</a> 比赛链接：<a href="http://vjudge.net/contest/view.action?cid=50365#overview" target="_blank" rel="noopener">VJ</a>   B：</p>
<h3 id="Wedding-of-Sultan"><a href="#Wedding-of-Sultan" class="headerlink" title="Wedding of Sultan"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555&amp;page=show_problem&amp;problem=4212" target="_blank" rel="noopener">Wedding of Sultan</a></h3><p>就是一颗树的DFS序。求各个点的度。 直接搞，很简单，。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 18:09:57</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\B.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> du[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(du,<span class="number">0</span>,<span class="keyword">sizeof</span>(du));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> now = str[<span class="number">0</span>] - <span class="string">'A'</span>;</span><br><span class="line"></span><br><span class="line">		pre[now] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> len = <span class="built_in">strlen</span>(str);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; len;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(now == str[i] - <span class="string">'A'</span>)</span><br><span class="line"></span><br><span class="line">				now = pre[now];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				du[now]++;</span><br><span class="line"></span><br><span class="line">				pre[str[i]-<span class="string">'A'</span>] = now;</span><br><span class="line"></span><br><span class="line">				now = str[i]-<span class="string">'A'</span>;</span><br><span class="line"></span><br><span class="line">				du[now] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d\n"</span>,iCase);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">26</span>;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(du[i])</span><br><span class="line"></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%c = %d\n"</span>,<span class="string">'A'</span>+i,du[i]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>C：
</code></pre><h3 id="Memory-Overflow"><a href="#Memory-Overflow" class="headerlink" title="Memory Overflow"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555&amp;page=show_problem&amp;problem=4213" target="_blank" rel="noopener">Memory Overflow</a></h3><p>水题一个。    </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 18:20:39</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\C.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,k;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d%s"</span>,&amp;n,&amp;k,&amp;str);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= k &amp;&amp; j &lt;= i;j++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(str[i-j] == str[i])</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					ans++;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,iCase,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>D：
</code></pre><h3 id="Laptop-Chargers"><a href="#Laptop-Chargers" class="headerlink" title=" Laptop Chargers"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555&amp;page=show_problem&amp;problem=4214" target="_blank" rel="noopener"> Laptop Chargers</a></h3><p>关于第一问，其实只要产生的大于消耗的，就可以一直运行下去。 第二问的时候，要二分时间，然后去判断这个时间产生和消耗的关系。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 18:25:02</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\D.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> C,T,R;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;C,&amp;T,&amp;R);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;node[<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,Q;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;Q) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp; Q == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d:\n"</span>,iCase);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> C;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;C);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			node[i].input();</span><br><span class="line"></span><br><span class="line">			sum += (<span class="keyword">double</span>)node[i].C/node[i].T;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(<span class="keyword">int</span>)<span class="built_in">ceil</span>(sum/C));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(Q--)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> l = <span class="number">0</span>, r = <span class="number">100010.0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span>(r-l &gt;= eps)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">double</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">double</span> tmp = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">					tmp += max(<span class="number">0.0</span>,mid*node[i].C/node[i].T-node[i].R);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(tmp &lt;= (<span class="keyword">double</span>)m*C*mid)</span><br><span class="line"></span><br><span class="line">					l = mid+eps;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> r = mid-eps;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(l &gt;= <span class="number">100000</span>)<span class="built_in">printf</span>(<span class="string">"-1.000\n"</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%.3lf\n"</span>,l);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  E:</p>
<h3 id="Poker-End-Games"><a href="#Poker-End-Games" class="headerlink" title="Poker End Games"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555&amp;page=show_problem&amp;problem=4215" target="_blank" rel="noopener">Poker End Games</a></h3><p>高斯消元求解。 直接建立方程。 然后解方程就可以了。 变量是n+m+1个变量。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 19:55:49</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\E.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-9</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">330</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> a[MAXN][MAXN],x[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> equ,var;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*返回0表示无解，1表示有解</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Gauss</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i,j,k,col,max_r;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>,col=<span class="number">0</span>;k&lt;equ&amp;&amp;col&lt;var;k++,col++)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        max_r=k;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(i=k+<span class="number">1</span>;i&lt;equ;i++)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span>(<span class="built_in">fabs</span>(a[i][col])&gt;<span class="built_in">fabs</span>(a[max_r][col]))</span><br><span class="line"></span><br><span class="line">            max_r=i;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">fabs</span>(a[max_r][col])&lt;eps)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(k!=max_r)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(j=col;j&lt;var;j++)</span><br><span class="line"></span><br><span class="line">              swap(a[k][j],a[max_r][j]);</span><br><span class="line"></span><br><span class="line">            swap(x[k],x[max_r]);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x[k]/=a[k][col];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(j=col+<span class="number">1</span>;j&lt;var;j++)a[k][j]/=a[k][col];</span><br><span class="line"></span><br><span class="line">        a[k][col]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;equ;i++)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span>(i!=k)</span><br><span class="line"></span><br><span class="line">          &#123;</span><br><span class="line"></span><br><span class="line">              x[i]-=x[k]*a[i][k];</span><br><span class="line"></span><br><span class="line">              <span class="keyword">for</span>(j=col+<span class="number">1</span>;j&lt;var;j++)a[i][j]-=a[k][j]*a[i][col];</span><br><span class="line"></span><br><span class="line">              a[i][col]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">		equ = var = n+m+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line"></span><br><span class="line">		a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1.0</span>; x[<span class="number">0</span>] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		a[n+m][n+m] = <span class="number">1.0</span>; x[n+m] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n+m;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			a[i][i] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">			x[i] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> tmp = min(i,n+m-i);</span><br><span class="line"></span><br><span class="line">			a[i][i-tmp] -= <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">			a[i][i+tmp] -= <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Gauss();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans1 = x[n];</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line"></span><br><span class="line">		a[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1.0</span>; x[<span class="number">0</span>] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		a[n+m][n+m] = <span class="number">1.0</span>; x[n+m] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n+m;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			a[i][i] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">			x[i] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> tmp = min(i,n+m-i);</span><br><span class="line"></span><br><span class="line">			a[i][i-tmp] -= <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">			a[i][i+tmp] -= <span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Gauss();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans2 = x[n];</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %.6lf %.6lf\n"</span>,iCase,ans1,ans2);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  F：</p>
<h3 id="Overlapping-Characters"><a href="#Overlapping-Characters" class="headerlink" title="Overlapping Characters"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=555&amp;problem=4216&amp;mosmsg=Submission+received+with+ID+1491797" target="_blank" rel="noopener">Overlapping Characters</a></h3><p>水题。 直接暴力。 就是题意比较麻烦，卧槽</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">40</span>][<span class="number">20</span>][<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> s[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt;mp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,q;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;q) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		mp.clear();</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			mp[s[i]] = i;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; <span class="number">17</span>;j++)</span><br><span class="line"></span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%s"</span>,str[i][j]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; q;k++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> m = <span class="built_in">strlen</span>(s);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">				a[i] = mp[s[i]];</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"Query %d: "</span>,k+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; <span class="number">16</span>;x++)</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> y = <span class="number">0</span>;y &lt; <span class="number">43</span>;y++)</span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(flag)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(str[a[i]][x][y] == <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">bool</span> ff = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">								<span class="keyword">if</span>(j != i &amp;&amp; str[a[j]][x][y] == <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">								&#123;</span><br><span class="line"></span><br><span class="line">									ff = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">								&#125;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">if</span>(ff)</span><br><span class="line"></span><br><span class="line">							&#123;</span><br><span class="line"></span><br><span class="line">								flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">								<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(flag)<span class="built_in">printf</span>(<span class="string">"Y"</span>);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"N"</span>);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>G:
</code></pre><h3 id="Reduce-the-Maintenance-Cost"><a href="#Reduce-the-Maintenance-Cost" class="headerlink" title="Reduce the Maintenance Cost"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=&amp;problem=4217&amp;mosmsg=Submission+received+with+ID+1491780" target="_blank" rel="noopener">Reduce the Maintenance Cost</a></h3><p>首先是进行缩点，把桥都找出来。 其实需要分配的就是这些桥。 缩点以后形成一个有向无环图。 就是很多颗树。 对于每颗树， 桥的分配从下到上。桥尽量分配给底下的点，不能分在分给顶上。 二分答案，然后进行判断。   写起来比较麻烦，非常锻炼代码能力。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 18:40:44</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\G.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10010</span>;<span class="comment">//点数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM = <span class="number">40010</span>;<span class="comment">//边数，因为是无向图，所以这个值要*2</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> to,next;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> w;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> cut;<span class="comment">//是否是桥标记</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> to_node;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN],tot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Low[MAXN],DFN[MAXN],Stack[MAXN],Belong[MAXN];<span class="comment">//Belong数组的值是1~block</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Index,top;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> block;<span class="comment">//边双连通块数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> Instack[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> bridge;<span class="comment">//桥的数目</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    edge[tot].to = v;edge[tot].next = head[u];edge[tot].cut=<span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	edge[tot].w = w;</span><br><span class="line"></span><br><span class="line">    head[u] = tot++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>//存的是桥相关信息</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> u,v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> w;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> val;</span><br><span class="line"></span><br><span class="line">	Node(<span class="keyword">int</span> _u = <span class="number">0</span>,<span class="keyword">int</span> _v = <span class="number">0</span>,<span class="keyword">int</span> _w = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		u = _u;</span><br><span class="line"></span><br><span class="line">		v = _v;</span><br><span class="line"></span><br><span class="line">		w = _w;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;node[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tarjan</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> pre)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line"></span><br><span class="line">    Low[u] = DFN[u] = ++Index;</span><br><span class="line"></span><br><span class="line">    Stack[top++] = u;</span><br><span class="line"></span><br><span class="line">    Instack[u] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        v = edge[i].to;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(v == pre)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( !DFN[v] )</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            Tarjan(v,u);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>( Low[u] &gt; Low[v] )Low[u] = Low[v];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(Low[v] &gt; DFN[u])</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">				node[bridge] = Node(u,v,edge[i].w);</span><br><span class="line"></span><br><span class="line">				edge[i].to_node = bridge;<span class="comment">//根据边的编号指向桥的编号</span></span><br><span class="line"></span><br><span class="line">				edge[i^<span class="number">1</span>].to_node = bridge;</span><br><span class="line"></span><br><span class="line">                bridge++;</span><br><span class="line"></span><br><span class="line">                edge[i].cut = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                edge[i^<span class="number">1</span>].cut = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( Instack[v] &amp;&amp; Low[u] &gt; DFN[v] )</span><br><span class="line"></span><br><span class="line">            Low[u] = DFN[v];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(Low[u] == DFN[u])</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        block++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            v = Stack[--top];</span><br><span class="line"></span><br><span class="line">            Instack[v] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            Belong[v] = block;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>( v!=u );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;vec[MAXN];<span class="comment">//存的缩点后的图</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;vec2[MAXN];<span class="comment">//缩点后的图边对于的桥的编号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dep[MAXN];<span class="comment">//深度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num[MAXN];<span class="comment">//连通块大小</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tot_num[MAXN];<span class="comment">//缩点后子树大小</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> pre,<span class="keyword">int</span> d)</span><span class="comment">//计算深度，以及子树大小</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	dep[u] = d;</span><br><span class="line"></span><br><span class="line">	tot_num[u] = num[u];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> sz = vec[u].size();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> v = vec[u][i];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(v == pre)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		dfs(v,u,d+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		tot_num[u] += tot_num[v];</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> TOT;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> pre)</span><span class="comment">//算每个桥的信息</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> sz = vec[u].size();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> v = vec[u][i];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(v == pre)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> id = vec2[u][i];</span><br><span class="line"></span><br><span class="line">		node[id].val = (<span class="keyword">long</span> <span class="keyword">long</span>)node[id].w*tot_num[v]*(TOT-tot_num[v]);</span><br><span class="line"></span><br><span class="line">		dfs2(v,u);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span><span class="comment">//按照深度从大到小排序</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> dep[Belong[a.v]] &gt; dep[Belong[b.v]];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> iv[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> pv[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(DFN,<span class="number">0</span>,<span class="keyword">sizeof</span>(DFN));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(Instack,<span class="literal">false</span>,<span class="keyword">sizeof</span>(Instack));</span><br><span class="line"></span><br><span class="line">	Index = top = block = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	bridge = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(DFN[i] == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">			Tarjan(i,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= block;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		vec[i].clear();</span><br><span class="line"></span><br><span class="line">		vec2[i].clear();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = head[i];j != <span class="number">-1</span>;j = edge[j].next)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(edge[j].cut)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				vec[Belong[i]].push_back(Belong[edge[j].to]);</span><br><span class="line"></span><br><span class="line">				vec2[Belong[i]].push_back(edge[j].to_node);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(num,<span class="number">0</span>,<span class="keyword">sizeof</span>(num));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		num[Belong[i]]++;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(dep,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dep));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= block;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dep[i] == <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dfs(i,<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">			TOT = tot_num[i];</span><br><span class="line"></span><br><span class="line">			dfs2(i,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; bridge;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dep[Belong[node[i].u]] &gt; dep[Belong[node[i].v]])</span><br><span class="line"></span><br><span class="line">			swap(node[i].u,node[i].v);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	sort(node,node+bridge,cmp);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//二分答案</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ans;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> l = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> r = <span class="number">1000000000000000000L</span>L;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(iv[i] &gt; l)</span><br><span class="line"></span><br><span class="line">			l = iv[i];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(l &lt;= r)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">			pv[i] = iv[i];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; bridge;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(pv[node[i].v] + node[i].val &lt;= mid)</span><br><span class="line"></span><br><span class="line">				pv[node[i].v] += node[i].val;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(pv[node[i].u] + node[i].val &lt;= mid)</span><br><span class="line"></span><br><span class="line">				pv[node[i].u] += node[i].val;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> </span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(flag)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			ans = mid;</span><br><span class="line"></span><br><span class="line">			r = mid<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		init();</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;iv[i]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> u,v,w;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(m--)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line"></span><br><span class="line">			addedge(u,v,w);</span><br><span class="line"></span><br><span class="line">			addedge(v,u,w);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: "</span>,iCase);</span><br><span class="line"></span><br><span class="line">		solve(n);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>H：
</code></pre><h3 id="Team-Mathematics-Olympiad"><a href="#Team-Mathematics-Olympiad" class="headerlink" title="Team Mathematics Olympiad"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=555&amp;page=show_problem&amp;problem=4218" target="_blank" rel="noopener">Team Mathematics Olympiad</a></h3><p>典型的概率DP。 状态压缩去表示每个人答了多少题，以及前一题是答对还是答错。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> INF = <span class="number">1e30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> p[<span class="number">10</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> f[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> dp[<span class="number">1100000</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">1100000</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> base;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">encode</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		ret *= base;</span><br><span class="line"></span><br><span class="line">		ret += a[i];</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>;i &gt;= <span class="number">0</span>;i--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		a[i] = s%base;</span><br><span class="line"></span><br><span class="line">		s /= base;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> pre)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(vis[s][pre])<span class="keyword">return</span> dp[s][pre];</span><br><span class="line"></span><br><span class="line">	vis[s][pre] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> num[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">	decode(num,s);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		tot += num[i];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(tot == m)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> Max = num[<span class="number">0</span>],Min = num[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			Max = max(Max,num[i]);</span><br><span class="line"></span><br><span class="line">			Min = min(Min,num[i]);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(Max - Min &gt; <span class="number">1</span>)<span class="keyword">return</span> dp[s][pre] = -INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> dp[s][pre] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	dp[s][pre] = -INF;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(num[i]+<span class="number">1</span> &gt;= base)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		num[i]++;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ns = encode(num);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(solve(ns,<span class="number">0</span>) &lt; <span class="number">-10</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			num[i]--;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> pp = p[i][tot];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(f[tot] &amp;&amp; pre == <span class="number">0</span>) pp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		dp[s][pre] = max(dp[s][pre],solve(ns,<span class="number">0</span>)(<span class="number">1</span>-pp) + (solve(ns,<span class="number">1</span>)+<span class="number">1</span>)pp);</span><br><span class="line"></span><br><span class="line">		num[i]--;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> dp[s][pre];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(f,<span class="literal">false</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> nn;<span class="keyword">int</span> u;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;nn);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(nn--)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;u);</span><br><span class="line"></span><br><span class="line">			u--;</span><br><span class="line"></span><br><span class="line">			f[u] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%lf"</span>,&amp;p[i][j]);</span><br><span class="line"></span><br><span class="line">		base = m/n;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(m%n)base += <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> base++;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %.4lf\n"</span>,iCase,solve(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>I：
</code></pre><h3 id="Learning-Vector"><a href="#Learning-Vector" class="headerlink" title="Learning Vector"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=555&amp;problem=4219&amp;mosmsg=Submission+received+with+ID+1491812" target="_blank" rel="noopener">Learning Vector</a></h3><p>按照顺序进行排序。 之后就是简单的DP了。 很简单的题。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 20:11:55</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2012\2012Dhaka\I.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line">&#125;node[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a.y*b.x &gt; a.x*b.y;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">55</span>][<span class="number">55</span>][<span class="number">3000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,k;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;node[i].x,&amp;node[i].y);</span><br><span class="line"></span><br><span class="line">			sum += node[i].y;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		sort(node+<span class="number">1</span>,node+n+<span class="number">1</span>,cmp);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(dp,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line"></span><br><span class="line">		dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= k &amp;&amp; j &lt;= i;j++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> L = <span class="number">0</span>;L &lt;= sum;L++)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(dp[i][j][L] &lt; <span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">					dp[i+<span class="number">1</span>][j][L] = max(dp[i+<span class="number">1</span>][j][L],dp[i][j][L]);</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(j &lt; k)</span><br><span class="line"></span><br><span class="line">						dp[i+<span class="number">1</span>][j+<span class="number">1</span>][L+node[i+<span class="number">1</span>].y] = max(dp[i+<span class="number">1</span>][j+<span class="number">1</span>][L+node[i+<span class="number">1</span>].y],dp[i][j][L]+L*node[i+<span class="number">1</span>].x*<span class="number">2</span>+node[i+<span class="number">1</span>].x*node[i+<span class="number">1</span>].y);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= sum;i++)</span><br><span class="line"></span><br><span class="line">			ans = max(ans,dp[n][k][i]);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,iCase,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/21/hdu4859/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/21/hdu4859/" itemprop="url">
                  HDU 4859 海岸线（最小割）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-21 14:27:52" itemprop="dateCreated datePublished" datetime="2014-07-21T14:27:52+08:00">2014-07-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 21:01:35" itemprop="dateModified" datetime="2018-07-29T21:01:35+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/网络流/" itemprop="url" rel="index"><span itemprop="name">网络流</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="HDU-4859"><a href="#HDU-4859" class="headerlink" title="HDU 4859"></a>HDU 4859</h2><h1 id="海岸线"><a href="#海岸线" class="headerlink" title="海岸线"></a>海岸线</h1><p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4859" target="_blank" rel="noopener">here</a></p>
<h1 id="海岸线-1"><a href="#海岸线-1" class="headerlink" title="海岸线"></a>海岸线</h1><p><strong>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others) Total Submission(s): 44    Accepted Submission(s): 7</strong>  </p>
<p>Problem Description</p>
<p>欢迎来到珠海！ 由于土地资源越来越紧张，使得许多海滨城市都只能依靠填海来扩展市区以求发展。作为Z市的决策人，在仔细观察了Z市地图之后，你准备通过填充某些海域来扩展Z市的海岸线到最长，来吸引更多的游客前来旅游度假。为了简化问题，假设地图为一个N*M的格子，其中一些是陆地，一些是可以填充的浅海域，一些是不可填充的深海域。这里定义海岸线的长度为一个联通块陆地（可能包含浅海域填充变为的陆地）的边缘长度，两个格子至少有一个公共边，则视为联通。 值得注意的是，这里Z市的陆地区域可以是不联通的，并且整个地图都处在海洋之中，也就是说，Z市是由一些孤岛组成的，比如像，夏威夷？ 你的任务是，填充某些浅海域，使得所有岛屿的海岸线之和最长。</p>
<p>Input</p>
<p>输入第一行为T，表示有T组测试数据。 每组数据以两个整数N和M开始，表示地图的规模。接下来的N行，每一行包含一个长度为M的字符串，表示地图，‘.’表示陆地，’E’表示浅海域，’D’表示深海域。 [Technical Specification] 1. 1 &lt;= T &lt;= 100 2. 1 &lt;= N, M &lt;= 47</p>
<p>Output</p>
<p>对每组数据，先输出为第几组数据，然后输出最长的海岸线长度。</p>
<p>Sample Input</p>
<p>3<br>2 2<br>EE<br>EE<br>3 3<br>EEE<br>.E.<br>EEE<br>3 3<br>EEE<br>DED<br>EEE</p>
<p>Sample Output</p>
<p>Case 1: 8<br>Case 2: 16<br>Case 3: 20<br>Hint</p>
<p>对于第三组样例，一种可行方案是：</p>
<p>.E.<br>D.D<br>.E.</p>
<p>这样5个孤立小岛的海岸线总长为4 * 5 = 20。</p>
<p>Author</p>
<p>Isea@WHU</p>
<h3 id="题目是中文的，题意不再赘述。直接搞。"><a href="#题目是中文的，题意不再赘述。直接搞。" class="headerlink" title="题目是中文的，题意不再赘述。直接搞。"></a>题目是中文的，题意不再赘述。直接搞。</h3><h3 id="是陆地，D是海，E的话可以变成-或者D-要求-的连通块组成的周长最长，其实就是相邻两个格子-E不同的个数要最多。"><a href="#是陆地，D是海，E的话可以变成-或者D-要求-的连通块组成的周长最长，其实就是相邻两个格子-E不同的个数要最多。" class="headerlink" title=".是陆地，D是海，E的话可以变成.或者D. 要求.的连通块组成的周长最长，其实就是相邻两个格子.E不同的个数要最多。"></a>.是陆地，D是海，E的话可以变成.或者D. 要求.的连通块组成的周长最长，其实就是相邻两个格子.E不同的个数要最多。</h3><p>  因为E有两个选择D或者.   其实就暗含了最小割的模型。 最小割的话，就是一部分分到源点一侧，一部分分到汇点一侧。   如果把源点分在一起当成是.   和汇点分在一起当成是D.  那么建图的时候，相邻的建流量为1的边。 如果这个点本来是. 那个连汇点是INF，本来是D的，连源点是INF。 如果是这种建图的话，最小割求出来的最小周长。   我们需要的最大周长。   稍微转化下。 我们希望相邻格子不同的最多，其实就是要相邻格子相同的最少。   所以用最小割来求相邻格子相同的最小值，然后总相邻数减掉这个就是答案了。   建图方法就是一开始进行奇偶染色。相当于对于点(x,y) 如果(x+y)%2 == 0 那么当成这个格子是 . 的，和源点分在一起。 如果(x+y)%2 == 1 那么当成这个格子是 D 的，和汇点分在一起。 相邻两点都建边。 这样建图的话，如果在源点一侧的跑到了汇点一侧，那么就相当于这个点从.变到D, 自然相同的数量要减少了、 汇点一侧的跑到了源点一侧，那么就相当于这个点从D变成了. 建图的时候，如果(x+y)%2==0 &amp;&amp; 这个点本来就是D  或者 (x+y)%2 == 1 &amp;&amp; 这个点本来就是.     那么这个点必须和汇点在一起，就把这个点和源点连INF的边。 相反情况类似处理。   这样建图出来的最小割，一定就是相邻格子是同一类的最小数量。总相邻减掉这个值就是答案了。   具体参见code  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/21 11:52:20</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\HDU\HDU4859.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> to,next,cap,flow;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> gap[MAXN],dep[MAXN],pre[MAXN],cur[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w,<span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].next = head[u];</span><br><span class="line"></span><br><span class="line">    edge[tol].flow = <span class="number">0</span>; head[u] = tol++;</span><br><span class="line"></span><br><span class="line">    edge[tol].to = u;edge[tol].cap = rw;edge[tol].next = head[v];</span><br><span class="line"></span><br><span class="line">    edge[tol].flow = <span class="number">0</span>;head[v] = tol++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sap</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(gap,<span class="number">0</span>,<span class="keyword">sizeof</span>(gap));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(dep,<span class="number">0</span>,<span class="keyword">sizeof</span>(dep));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memcpy</span>(cur,head,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> u = start;</span><br><span class="line"></span><br><span class="line">    pre[u] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    gap[<span class="number">0</span>] = N;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(dep[start] &lt; N)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(u == end)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> Min = INF;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = pre[u];i != <span class="number">-1</span>;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(Min &gt; edge[i].cap - edge[i].flow)</span><br><span class="line"></span><br><span class="line">                    Min = edge[i].cap - edge[i].flow;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = pre[u];i != <span class="number">-1</span>;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                edge[i].flow += Min;</span><br><span class="line"></span><br><span class="line">                edge[i^<span class="number">1</span>].flow -= Min;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            u = start;</span><br><span class="line"></span><br><span class="line">            ans += Min;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            v = edge[i].to;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v]+<span class="number">1</span> == dep[u])</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                cur[u] = pre[v] = i;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            u = v;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> Min = N;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; Min)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Min = dep[edge[i].to];</span><br><span class="line"></span><br><span class="line">                cur[u] = i;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        gap[dep[u]]--;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!gap[dep[u]])<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">        dep[u] = Min+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        gap[dep[u]]++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(u != start)u = edge[pre[u]^<span class="number">1</span>].to;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> g[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> id[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Move[][<span class="number">2</span>] = &#123; &#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        iCase++;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,g[i]+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= m+<span class="number">1</span>;i++)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            g[<span class="number">0</span>][i] = <span class="string">'D'</span>;</span><br><span class="line"></span><br><span class="line">            g[n+<span class="number">1</span>][i] = <span class="string">'D'</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            g[i][<span class="number">0</span>] = <span class="string">'D'</span>;</span><br><span class="line"></span><br><span class="line">            g[i][m+<span class="number">1</span>] = <span class="string">'D'</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">0</span>;i &lt;= n+<span class="number">1</span>;i++)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= m+<span class="number">1</span>;j++)</span><br><span class="line"></span><br><span class="line">                id[i][j] = ++cnt;</span><br><span class="line"></span><br><span class="line">        init();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, end = cnt+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= n+<span class="number">1</span>;i++)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= m+<span class="number">1</span>;j++)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; <span class="number">4</span>;k++)</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">int</span> x = i + Move[k][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">int</span> y = j + Move[k][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt; n+<span class="number">1</span> || y &lt; <span class="number">0</span> || y &gt; m+<span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                    ans++;</span><br><span class="line"></span><br><span class="line">                    addedge(id[i][j],id[x][y],<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(g[i][j] != <span class="string">'E'</span>)</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>( ((i+j)%<span class="number">2</span> == <span class="number">1</span> &amp;&amp; g[i][j] == <span class="string">'.'</span>) || ((i+j)%<span class="number">2</span> == <span class="number">0</span> &amp;&amp; g[i][j] == <span class="string">'D'</span>) )</span><br><span class="line"></span><br><span class="line">                        addedge(start,id[i][j],INF);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">else</span> addedge(id[i][j],end,INF);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,iCase,ans/<span class="number">2</span>-sap(start,end,cnt+<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/16/2011seu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/16/2011seu/" itemprop="url">
                  Regionals 2011 :: North America - Southeast USA
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-16 21:19:42" itemprop="dateCreated datePublished" datetime="2014-07-16T21:19:42+08:00">2014-07-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 20:04:10" itemprop="dateModified" datetime="2018-07-29T20:04:10+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Contest/" itemprop="url" rel="index"><span itemprop="name">Contest</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/套题/" itemprop="url" rel="index"><span itemprop="name">套题</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目链接：UVALive"><a href="#题目链接：UVALive" class="headerlink" title="题目链接：UVALive"></a>题目链接：<a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=541" target="_blank" rel="noopener">UVALive</a></h2><h2 id="VJ比赛链接：VJ"><a href="#VJ比赛链接：VJ" class="headerlink" title="VJ比赛链接：VJ"></a>VJ比赛链接：<a href="http://vjudge.net/contest/view.action?cid=48996#overview" target="_blank" rel="noopener">VJ</a></h2><pre><code>A题。 水题。
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/15 19:13:25</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\A.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> dp[<span class="number">1010</span>][<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("drive-000.inp","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp; m == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> k;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">char</span> op[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s%lf"</span>,op,&amp;k);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(i == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">'S'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = k;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">'L'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = pi/<span class="number">2</span>(k+<span class="number">5</span>+j10);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = pi/<span class="number">2</span>(k+<span class="number">5</span>+(m<span class="number">-1</span>-j)<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">'S'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = dp[i<span class="number">-1</span>][j]+k;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						<span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; m;x++)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">double</span> tmp = <span class="built_in">abs</span>(j-x)*<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">if</span>(tmp &gt; k+<span class="number">0.01</span>)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">							dp[i][j] = min(dp[i][j],dp[i<span class="number">-1</span>][x]+<span class="built_in">sqrt</span>(k*k + <span class="number">10.0</span>*<span class="number">10.0</span>*<span class="built_in">abs</span>(j-x)*<span class="built_in">abs</span>(j-x)));</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">'L'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = dp[i<span class="number">-1</span>][j] + pi/<span class="number">2</span>(k+<span class="number">5</span>+j10);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">						dp[i][j] = dp[i<span class="number">-1</span>][j] + pi/<span class="number">2</span>(k+<span class="number">5</span>+(m<span class="number">-1</span>-j)<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans = dp[n][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">			ans = min(ans,dp[n][i]);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  B: 暴力搞一下就OK了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/15 21:22:19</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\B.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> x,y,z;</span><br><span class="line"></span><br><span class="line">	Node(<span class="keyword">int</span> _x=<span class="number">0</span>,<span class="keyword">int</span> _y = <span class="number">0</span>,<span class="keyword">int</span> _z = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		x = _x;</span><br><span class="line"></span><br><span class="line">		y = _y;</span><br><span class="line"></span><br><span class="line">		z = _z;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt;V;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> used[<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> used2[<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> A[<span class="number">3</span>],B[<span class="number">3</span>],C[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sum;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a[C[<span class="number">0</span>]]+a[A[<span class="number">0</span>]]+a[B[<span class="number">0</span>]]+a[C[<span class="number">1</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[C[<span class="number">0</span>]]+a[A[<span class="number">1</span>]]+a[C[<span class="number">2</span>]]+a[C[<span class="number">4</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[C[<span class="number">1</span>]]+a[B[<span class="number">1</span>]]+a[C[<span class="number">3</span>]]+a[C[<span class="number">4</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[A[<span class="number">2</span>]]+a[C[<span class="number">2</span>]]+a[C[<span class="number">3</span>]]+a[B[<span class="number">2</span>]] == sum;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a[A[<span class="number">0</span>]]+a[B[<span class="number">1</span>]]+a[C[<span class="number">1</span>]]+a[C[<span class="number">4</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[A[<span class="number">2</span>]]+a[C[<span class="number">0</span>]]+a[C[<span class="number">2</span>]]+a[C[<span class="number">4</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[B[<span class="number">0</span>]]+a[A[<span class="number">1</span>]]+a[C[<span class="number">0</span>]]+a[C[<span class="number">3</span>]] == sum &amp;&amp;</span><br><span class="line"></span><br><span class="line">		a[B[<span class="number">2</span>]]+a[C[<span class="number">1</span>]]+a[C[<span class="number">2</span>]]+a[C[<span class="number">3</span>]] == sum;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">12</span>;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line"></span><br><span class="line">			sum += a[i];</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(sum == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(sum % <span class="number">3</span> != <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		sum /= <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">		V.clear();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; <span class="number">12</span>;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt; i;j++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>;k &lt; j;k++)</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(a[i]+a[j]+a[k]+a[<span class="number">0</span>] == sum)</span><br><span class="line"></span><br><span class="line">						V.push_back(Node(k,j,i));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> sz = V.size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">memset</span>(used,<span class="literal">false</span>,<span class="keyword">sizeof</span>(used));</span><br><span class="line"></span><br><span class="line">			A[<span class="number">0</span>] = V[i].x;</span><br><span class="line"></span><br><span class="line">			A[<span class="number">1</span>] = V[i].y;</span><br><span class="line"></span><br><span class="line">			A[<span class="number">2</span>] = V[i].z;</span><br><span class="line"></span><br><span class="line">			used[A[<span class="number">0</span>]] = used[A[<span class="number">1</span>]] = used[A[<span class="number">2</span>]] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; i;j++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(!used[V[j].x] &amp;&amp; !used[V[j].y] &amp;&amp; !used[V[j].z])</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					B[<span class="number">0</span>] = V[j].x;</span><br><span class="line"></span><br><span class="line">					B[<span class="number">1</span>] = V[j].y;</span><br><span class="line"></span><br><span class="line">					B[<span class="number">2</span>] = V[j].z;</span><br><span class="line"></span><br><span class="line">					<span class="built_in">memset</span>(used2,<span class="literal">false</span>,<span class="keyword">sizeof</span>(used2));</span><br><span class="line"></span><br><span class="line">					used2[A[<span class="number">0</span>]] = used2[A[<span class="number">1</span>]] = used2[A[<span class="number">2</span>]] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					used2[B[<span class="number">0</span>]] = used2[B[<span class="number">1</span>]] = used2[B[<span class="number">2</span>]] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>;k &lt; <span class="number">12</span>;k++)</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(!used2[k])</span><br><span class="line"></span><br><span class="line">							C[cnt++] = k;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">							&#123;</span><br><span class="line"></span><br><span class="line">								<span class="keyword">if</span>(check1())ans++;</span><br><span class="line"></span><br><span class="line">								<span class="keyword">if</span>(check2())ans++;</span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">while</span>(next_permutation(C,C+<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">while</span>(next_permutation(B,B+<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">while</span>(next_permutation(A,A+<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line"> 		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  C:</p>
<h3 id="Flooring-Tiles"><a href="#Flooring-Tiles" class="headerlink" title=" Flooring Tiles"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=541&amp;page=show_problem&amp;problem=3783" target="_blank" rel="noopener"> Flooring Tiles</a></h3><p>分两种情况，如果是平方数，约数个数就是2*n-1 如果是非平方数，约数个数就是2*n. 然后暴力去搜就可以了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;yueshu[<span class="number">200</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> prime[] = &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> squ;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> now,<span class="keyword">int</span> pos,<span class="keyword">int</span> n,<span class="keyword">int</span> last,<span class="keyword">bool</span> flag)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(now &gt;= ans)<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(now &lt; ans &amp;&amp; flag == squ)ans = now;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> sz = yueshu[n].size();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(yueshu[n][i] &gt; last)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> v = yueshu[n][i];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(squ &amp;&amp; v%<span class="number">2</span> != <span class="number">1</span>)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> nxt = now;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; v<span class="number">-1</span>;j++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>((<span class="keyword">double</span>)nxt &gt; (<span class="keyword">double</span>)ans/prime[pos] + <span class="number">10</span>)<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			nxt *= prime[pos];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(nxt &gt; ans)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		solve(nxt,pos+<span class="number">1</span>,n/v,v,flag &amp;&amp; v%<span class="number">2</span> == <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i &lt; <span class="number">200</span>;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>;j &lt;= i;j++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(i%j == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">				yueshu[i].push_back(j);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) ==<span class="number">1</span> &amp;&amp; n)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		ans = <span class="number">1000000000000000000L</span>L + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">		squ = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		solve(<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>*n<span class="number">-1</span>,<span class="number">200</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		squ = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		solve(<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>*n,<span class="number">200</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  D：</p>
<h3 id="Vive-la-Difference"><a href="#Vive-la-Difference" class="headerlink" title=" Vive la Difference!"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=541&amp;page=show_problem&amp;problem=3784" target="_blank" rel="noopener"> Vive la Difference!</a></h3><p>水题了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> a,b,c,d;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;a,&amp;b,&amp;c,&amp;d) == <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(a == <span class="number">0</span> &amp;&amp; b == <span class="number">0</span> &amp;&amp; c == <span class="number">0</span> &amp;&amp; d == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(a == b &amp;&amp; c == b &amp;&amp; d == c)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			ans++;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> na = <span class="built_in">abs</span>(a-b);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> nb = <span class="built_in">abs</span>(b-c);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> nc = <span class="built_in">abs</span>(c-d);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> nd = <span class="built_in">abs</span>(d-a);</span><br><span class="line"></span><br><span class="line">			a = na;</span><br><span class="line"></span><br><span class="line">			b = nb;</span><br><span class="line"></span><br><span class="line">			c = nc;</span><br><span class="line"></span><br><span class="line">			d = nd;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  E:</p>
<h3 id="Robot-Navigation"><a href="#Robot-Navigation" class="headerlink" title="Robot Navigation"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=541&amp;page=show_problem&amp;problem=3785" target="_blank" rel="noopener">Robot Navigation</a></h3><p>就是BFS的水题。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/15 23:22:33</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\E.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> ************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Move[][<span class="number">2</span>] = &#123; &#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> g[<span class="number">110</span>][<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sx,sy,sd;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ex,ey;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp1[<span class="number">110</span>][<span class="number">110</span>][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp2[<span class="number">110</span>][<span class="number">110</span>][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> d;</span><br><span class="line"></span><br><span class="line">	Node(<span class="keyword">int</span> _x = <span class="number">0</span>,<span class="keyword">int</span> _y = <span class="number">0</span>,<span class="keyword">int</span> _d = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		x = _x;</span><br><span class="line"></span><br><span class="line">		y = _y;</span><br><span class="line"></span><br><span class="line">		d = _d;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; n &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; m &amp;&amp; g[x][y] != <span class="string">'*'</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">queue</span>&lt;Node&gt;q;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; <span class="number">4</span>;k++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				dp1[i][j][k] = INF;</span><br><span class="line"></span><br><span class="line">				dp2[i][j][k] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">	q.push(Node(sx,sy,sd));</span><br><span class="line"></span><br><span class="line">	dp1[sx][sy][sd] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	dp2[sx][sy][sd] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(!q.empty())</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		Node tmp = q.front();</span><br><span class="line"></span><br><span class="line">		q.pop();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> x = tmp.x;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> y = tmp.y;</span><br><span class="line"></span><br><span class="line">		x += Move[tmp.d][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		y += Move[tmp.d][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(check(x,y))</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(dp1[x][y][tmp.d] &gt; dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				dp1[x][y][tmp.d] = dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">				dp2[x][y][tmp.d] = dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">				q.push(Node(x,y,tmp.d));</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(dp1[x][y][tmp.d] == dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				dp2[x][y][tmp.d] += dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(dp2[x][y][tmp.d] &gt;= MOD)</span><br><span class="line"></span><br><span class="line">					dp2[x][y][tmp.d] -= MOD;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			x += Move[tmp.d][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">			y += Move[tmp.d][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dp1[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] &gt; dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dp1[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] = dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			dp2[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] = dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">			q.push(Node(tmp.x,tmp.y,(tmp.d+<span class="number">1</span>)%<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(dp1[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] == dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dp2[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] += dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(dp2[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] &gt;= MOD)</span><br><span class="line"></span><br><span class="line">				dp2[tmp.x][tmp.y][(tmp.d+<span class="number">1</span>)%<span class="number">4</span>] -= MOD;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dp1[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] &gt; dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dp1[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] = dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			dp2[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] = dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">			q.push(Node(tmp.x,tmp.y,(tmp.d+<span class="number">3</span>)%<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(dp1[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] == dp1[tmp.x][tmp.y][tmp.d]+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dp2[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] += dp2[tmp.x][tmp.y][tmp.d];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(dp2[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] &gt;= MOD)</span><br><span class="line"></span><br><span class="line">				dp2[tmp.x][tmp.y][(tmp.d+<span class="number">3</span>)%<span class="number">4</span>] -= MOD;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp; m == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>,g[i]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(g[i][j] == <span class="string">'X'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					ex = i; ey = j;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(g[i][j] == <span class="string">'N'</span> || g[i][j] == <span class="string">'E'</span> || g[i][j] == <span class="string">'S'</span> || g[i][j] == <span class="string">'W'</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					sx = i;</span><br><span class="line"></span><br><span class="line">					sy = j;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(g[i][j] == <span class="string">'N'</span>)sd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span>(g[i][j] == <span class="string">'E'</span>)sd = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span>(g[i][j] == <span class="string">'S'</span>)sd = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span> sd = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		bfs();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans1 = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(dp1[ex][ey][i] &lt; ans1)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				ans1 = dp1[ex][ey][i];</span><br><span class="line"></span><br><span class="line">				ans2 = dp2[ex][ey][i];</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(dp1[ex][ey][i] == ans1)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				ans2 += dp2[ex][ey][i];</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(ans2 &gt;= MOD)</span><br><span class="line"></span><br><span class="line">					ans2 -= MOD;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(ans1 == INF)ans1 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,ans1,ans2);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>F:</p>
<h3 id="Folding-Game"><a href="#Folding-Game" class="headerlink" title=" Folding Game"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=541&amp;page=show_problem&amp;problem=3786" target="_blank" rel="noopener"> Folding Game</a></h3><p>一个折纸问题。 直接写个dfs就解决了，注意细节。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/16 18:33:53</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\F.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> W[<span class="number">30</span>],H[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> op[<span class="number">30</span>][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> K[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(op[n][<span class="number">0</span>] == <span class="string">'T'</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> tmp = H[n] - y;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(K[n] &gt; tmp)ans += dfs(n<span class="number">-1</span>,x,H[n<span class="number">-1</span>]-(K[n]-tmp));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(H[n<span class="number">-1</span>]-K[n] &gt; tmp)ans += dfs(n<span class="number">-1</span>,x,H[n<span class="number">-1</span>]-K[n]-tmp);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(op[n][<span class="number">0</span>] == <span class="string">'B'</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(K[n] &gt; y)ans += dfs(n<span class="number">-1</span>,x,K[n]-y);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(H[n<span class="number">-1</span>]-K[n] &gt; y)ans += dfs(n<span class="number">-1</span>,x,y+K[n]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(op[n][<span class="number">0</span>] == <span class="string">'L'</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(K[n] &gt; x)ans += dfs(n<span class="number">-1</span>,K[n]-x,y);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(W[n<span class="number">-1</span>]-K[n] &gt; x)ans += dfs(n<span class="number">-1</span>,K[n]+x,y);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> tmp = W[n]-x;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(K[n] &gt; tmp)ans += dfs(n<span class="number">-1</span>,W[n<span class="number">-1</span>]-(K[n]-tmp),y);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(W[n<span class="number">-1</span>]-K[n] &gt; tmp)ans += dfs(n<span class="number">-1</span>,W[n<span class="number">-1</span>]-K[n]-tmp,y);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;W[<span class="number">0</span>],&amp;H[<span class="number">0</span>],&amp;n) == <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(W[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; H[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s%d"</span>,op[i],&amp;K[i]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(op[i][<span class="number">0</span>] == <span class="string">'T'</span> || op[i][<span class="number">0</span>] == <span class="string">'B'</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				W[i] = W[i<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">				H[i] = max(K[i],H[i<span class="number">-1</span>]-K[i]);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				H[i] = H[i<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">				W[i] = max(K[i],W[i<span class="number">-1</span>]-K[i]);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dfs(n,x,y));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>H:
</code></pre><h3 id="Family-Fortune"><a href="#Family-Fortune" class="headerlink" title="Family Fortune"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=541&amp;problem=3788&amp;mosmsg=Submission+received+with+ID+1486308" target="_blank" rel="noopener">Family Fortune</a></h3><p>一颗树上，要选择k个节点，这k个节点没有祖先和后代关系。 要求k个点的值的和最大。   可以发现当一个点选择一个，它子树下面，和它上面的点都不能选了。   所以按照dfs的顺序进行DP，要么选子树，要么选当前点。  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/16 19:47:08</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\H.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> to,next;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN],tot;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	edge[tot].to = v;</span><br><span class="line"></span><br><span class="line">	edge[tot].next = head[u];</span><br><span class="line"></span><br><span class="line">	head[u] = tot++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> W[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> dep)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= k;i++)</span><br><span class="line"></span><br><span class="line">		dp[dep+<span class="number">1</span>][i] = dp[dep][i];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">		dfs(edge[i].to,dep+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = k<span class="number">-1</span>;i &gt;= <span class="number">0</span>;i--)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dp[dep][i] &gt; <span class="number">-1</span> &amp;&amp; dp[dep][i]+W[u] &gt; dp[dep][i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">			dp[dep][i+<span class="number">1</span>] = dp[dep][i]+W[u];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= k;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dp[dep+<span class="number">1</span>][i] &gt; dp[dep][i])</span><br><span class="line"></span><br><span class="line">			dp[dep][i] = dp[dep+<span class="number">1</span>][i];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp;  k == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> root;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> u;</span><br><span class="line"></span><br><span class="line">		init();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;W[i]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(u == <span class="number">0</span>)root = i;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> addedge(u,i);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(dp[<span class="number">0</span>],<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp[<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">		dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		dfs(root,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(dp[<span class="number">0</span>][k] == <span class="number">-1</span>)<span class="built_in">printf</span>(<span class="string">"0\n"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[<span class="number">0</span>][k]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  I:</p>
<h3 id="Moving-Points"><a href="#Moving-Points" class="headerlink" title=" Moving Points"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=541&amp;problem=3789&amp;mosmsg=Submission+received+with+ID+1486311" target="_blank" rel="noopener"> Moving Points</a></h3><p>状态压缩DP。 直接状压，以及当前在哪个点。 然后直接相对速度去求就可以了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> X[MAXN],Y[MAXN],D[MAXN],S[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> x,y;</span><br><span class="line"></span><br><span class="line">	Point(<span class="keyword">double</span> _x = <span class="number">0</span>,<span class="keyword">double</span> _y = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		x = _x;</span><br><span class="line"></span><br><span class="line">		y = _y;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> <span class="keyword">operator</span> ^(<span class="keyword">const</span> Point &amp;b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> x*b.y-y*b.x;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> <span class="keyword">operator</span> *(<span class="keyword">const</span> Point &amp;b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> x*b.x + y*b.y;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calc</span><span class="params">(<span class="keyword">double</span> x0,<span class="keyword">double</span> y0,<span class="keyword">double</span> x1,<span class="keyword">double</span> y1,<span class="keyword">double</span> dx,<span class="keyword">double</span> dy,<span class="keyword">double</span> C,<span class="keyword">double</span> S)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	Point p1 = Point(x1-x0,y1-y0);</span><br><span class="line"></span><br><span class="line">	Point p2 = Point(-dx,-dy);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> jiao = <span class="built_in">atan2</span>(<span class="built_in">fabs</span>(p1^p2),p1*p2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> b = <span class="number">-2</span>*S*<span class="built_in">cos</span>(jiao);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> c = S*S - C*C;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> deta = b*b - <span class="number">4</span>*a*c;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> tmp =  (-b+<span class="built_in">sqrt</span>(deta))/(<span class="number">2.0</span>*a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> s = <span class="built_in">sqrt</span>((x0-x1)(x0-x1) + (y0-y1)(y0-y1));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> s/tmp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> dp[MAXN][<span class="number">1</span>&lt;&lt;MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> INF = <span class="number">1e20</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> C;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%lf"</span>,&amp;n,&amp;C) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp; C == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span>,&amp;X[i],&amp;Y[i],&amp;D[i],&amp;S[i]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; (<span class="number">1</span>&lt;&lt;n);j++)</span><br><span class="line"></span><br><span class="line">				dp[i][j] = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			dp[i][<span class="number">1</span>&lt;&lt;i] = calc(<span class="number">0.0</span>,<span class="number">0.0</span>,X[i],Y[i],<span class="built_in">cos</span>(D[i]/<span class="number">180.0</span>*PI),<span class="built_in">sin</span>(D[i]/<span class="number">180.0</span>*PI),C,S[i]);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> tot = (<span class="number">1</span>&lt;&lt;n);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; tot;j++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(j&amp;(<span class="number">1</span>&lt;&lt;i))</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">double</span> nx = S[i]*<span class="built_in">cos</span>(D[i]/<span class="number">180.0</span>*PI)*dp[i][j] + X[i];</span><br><span class="line"></span><br><span class="line">					<span class="keyword">double</span> ny = S[i]*<span class="built_in">sin</span>(D[i]/<span class="number">180.0</span>*PI)*dp[i][j] + Y[i];</span><br><span class="line"></span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; n;k++)</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>((j&amp;(<span class="number">1</span>&lt;&lt;k)) == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">double</span> tx = S[k]*<span class="built_in">cos</span>(D[k]/<span class="number">180.0</span>*PI)*dp[i][j] + X[k];</span><br><span class="line"></span><br><span class="line">							<span class="keyword">double</span> ty = S[k]*<span class="built_in">sin</span>(D[k]/<span class="number">180.0</span>*PI)*dp[i][j] + Y[k];</span><br><span class="line"></span><br><span class="line">							dp[k][j^(<span class="number">1</span>&lt;&lt;k)] = min(dp[k][j^(<span class="number">1</span>&lt;&lt;k)],dp[i][j] + calc(nx,ny,tx,ty,<span class="built_in">cos</span>(D[k]/<span class="number">180.0</span>*PI),<span class="built_in">sin</span>(D[k]/<span class="number">180.0</span>*PI),C,S[k]));</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			ans = min(ans,dp[i][tot<span class="number">-1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  J:</p>
<h3 id="Vampire-Numbers"><a href="#Vampire-Numbers" class="headerlink" title="Vampire Numbers"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=541&amp;problem=3790&amp;mosmsg=Submission+received+with+ID+1486322" target="_blank" rel="noopener">Vampire Numbers</a></h3><p>暴力搞就可以了。 姿势写不好就容易T。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/16 21:06:34</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\J.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num1[<span class="number">10</span>],num2[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(num1,<span class="number">0</span>,<span class="keyword">sizeof</span>(num1));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(num2,<span class="number">0</span>,<span class="keyword">sizeof</span>(num2));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(u)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num1[u%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		u /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(a)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num2[a%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		a /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(b)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num2[b%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		b /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(num1[i] != num2[i])</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i*i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n%i == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(check(n,i,n/i))</span><br><span class="line"></span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span> &amp;&amp; n)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(check(n))</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,n);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			n++;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>当然，这题也可以打表。
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/16 21:06:34</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\区域赛练习\2011\2011Southeast_USA\J.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num1[<span class="number">10</span>],num2[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(num1,<span class="number">0</span>,<span class="keyword">sizeof</span>(num1));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(num2,<span class="number">0</span>,<span class="keyword">sizeof</span>(num2));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(u)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num1[u%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		u /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(a)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num2[a%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		a /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(b)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		num2[b%<span class="number">10</span>]++;</span><br><span class="line"></span><br><span class="line">		b /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(num1[i] != num2[i])</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i*i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(n%i == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(check(n,i,n/i))</span><br><span class="line"></span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[]=</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="number">126</span>,<span class="number">153</span>,<span class="number">688</span>,<span class="number">1206</span>,<span class="number">1255</span>,<span class="number">1260</span>,<span class="number">1395</span>,<span class="number">1435</span>,<span class="number">1503</span>,<span class="number">1530</span>,<span class="number">1827</span>,<span class="number">2187</span>,<span class="number">3159</span>,<span class="number">3784</span>,<span class="number">6880</span>,<span class="number">10251</span>,<span class="number">10255</span>,<span class="number">10426</span>,<span class="number">10521</span>,<span class="number">10525</span>,<span class="number">10575</span>,<span class="number">11259</span>,<span class="number">11844</span>,<span class="number">11848</span>,<span class="number">12006</span>,<span class="number">12060</span>,<span class="number">12384</span>,<span class="number">12505</span>,<span class="number">12546</span>,<span class="number">12550</span>,<span class="number">12595</span>,<span class="number">12600</span>,<span class="number">12762</span>,<span class="number">12843</span>,<span class="number">12955</span>,<span class="number">12964</span>,<span class="number">13243</span>,<span class="number">13545</span>,<span class="number">13950</span>,<span class="number">14035</span>,<span class="number">14350</span>,<span class="number">15003</span>,<span class="number">15030</span>,<span class="number">15246</span>,<span class="number">15300</span>,<span class="number">15435</span>,<span class="number">15624</span>,<span class="number">15795</span>,<span class="number">16272</span>,<span class="number">17325</span>,<span class="number">17428</span>,<span class="number">17437</span>,<span class="number">17482</span>,<span class="number">18225</span>,<span class="number">18265</span>,<span class="number">18270</span>,<span class="number">19026</span>,<span class="number">19215</span>,<span class="number">21375</span>,<span class="number">21586</span>,<span class="number">21753</span>,<span class="number">21870</span>,<span class="number">25105</span>,<span class="number">25375</span>,<span class="number">25474</span>,<span class="number">25510</span>,<span class="number">28476</span>,<span class="number">29632</span>,<span class="number">31509</span>,<span class="number">31590</span>,<span class="number">33655</span>,<span class="number">33696</span>,<span class="number">36855</span>,<span class="number">37840</span>,<span class="number">37845</span>,<span class="number">39784</span>,<span class="number">41665</span>,<span class="number">42898</span>,<span class="number">44676</span>,<span class="number">45684</span>,<span class="number">45760</span>,<span class="number">45864</span>,<span class="number">47538</span>,<span class="number">48672</span>,<span class="number">49855</span>,<span class="number">51759</span>,<span class="number">52168</span>,<span class="number">53865</span>,<span class="number">56295</span>,<span class="number">56875</span>,<span class="number">62968</span>,<span class="number">63895</span>,<span class="number">67149</span>,<span class="number">67392</span>,<span class="number">67950</span>,<span class="number">68800</span>,<span class="number">71199</span>,<span class="number">78975</span>,<span class="number">100255</span>,<span class="number">100525</span>,<span class="number">101299</span>,<span class="number">102051</span>,<span class="number">102505</span>,<span class="number">102510</span>,<span class="number">102541</span>,<span class="number">102550</span>,<span class="number">102595</span>,<span class="number">102942</span>,<span class="number">102955</span>,<span class="number">103968</span>,<span class="number">104026</span>,<span class="number">104260</span>,<span class="number">104368</span>,<span class="number">105021</span>,<span class="number">105025</span>,<span class="number">105075</span>,<span class="number">105210</span>,<span class="number">105250</span>,<span class="number">105264</span>,<span class="number">105295</span>,<span class="number">105723</span>,<span class="number">105750</span>,<span class="number">107163</span>,<span class="number">107329</span>,<span class="number">108126</span>,<span class="number">108135</span>,<span class="number">108216</span>,<span class="number">108612</span>,<span class="number">108864</span>,<span class="number">109525</span>,<span class="number">110758</span>,<span class="number">112468</span>,<span class="number">112509</span>,<span class="number">112590</span>,<span class="number">114268</span>,<span class="number">115672</span>,<span class="number">115699</span>,<span class="number">116478</span>,<span class="number">116496</span>,<span class="number">116725</span>,<span class="number">116928</span>,<span class="number">117067</span>,<span class="number">118408</span>,<span class="number">118440</span>,<span class="number">118480</span>,<span class="number">118575</span>,<span class="number">118926</span>,<span class="number">119848</span>,<span class="number">120006</span>,<span class="number">120060</span>,<span class="number">120384</span>,<span class="number">120600</span>,<span class="number">120762</span>,<span class="number">120843</span>,<span class="number">121086</span>,<span class="number">121576</span>,<span class="number">121815</span>,<span class="number">122746</span>,<span class="number">122764</span>,<span class="number">123084</span>,<span class="number">123354</span>,<span class="number">123538</span>,<span class="number">123840</span>,<span class="number">123894</span>,<span class="number">124483</span>,<span class="number">124488</span>,<span class="number">124542</span>,<span class="number">124978</span>,<span class="number">125005</span>,<span class="number">125050</span>,<span class="number">125095</span>,<span class="number">125248</span>,<span class="number">125433</span>,<span class="number">125460</span>,<span class="number">125500</span>,<span class="number">125950</span>,<span class="number">125995</span>,<span class="number">126000</span>,<span class="number">126027</span>,<span class="number">126108</span>,<span class="number">126846</span>,<span class="number">127417</span>,<span class="number">127620</span>,<span class="number">128403</span>,<span class="number">128430</span>,<span class="number">128943</span>,<span class="number">129438</span>,<span class="number">129505</span>,<span class="number">129514</span>,<span class="number">129550</span>,<span class="number">129564</span>,<span class="number">129595</span>,<span class="number">129640</span>,<span class="number">129775</span>,<span class="number">129955</span>,<span class="number">131242</span>,<span class="number">132430</span>,<span class="number">132565</span>,<span class="number">132615</span>,<span class="number">132655</span>,<span class="number">133245</span>,<span class="number">134275</span>,<span class="number">134725</span>,<span class="number">135045</span>,<span class="number">135450</span>,<span class="number">135828</span>,<span class="number">135837</span>,<span class="number">136525</span>,<span class="number">136854</span>,<span class="number">136948</span>,<span class="number">138784</span>,<span class="number">139500</span>,<span class="number">139824</span>,<span class="number">140035</span>,<span class="number">140350</span>,<span class="number">141345</span>,<span class="number">142978</span>,<span class="number">143500</span>,<span class="number">143739</span>,<span class="number">143793</span>,<span class="number">145273</span>,<span class="number">145314</span>,<span class="number">145345</span>,<span class="number">145683</span>,<span class="number">146137</span>,<span class="number">146520</span>,<span class="number">146952</span>,<span class="number">149364</span>,<span class="number">149782</span>,<span class="number">150003</span>,<span class="number">150030</span>,<span class="number">150246</span>,<span class="number">150300</span>,<span class="number">150435</span>,<span class="number">150624</span>,<span class="number">150826</span>,<span class="number">152271</span>,<span class="number">152406</span>,<span class="number">152460</span>,<span class="number">152608</span>,<span class="number">152685</span>,<span class="number">152946</span>,<span class="number">153000</span>,<span class="number">153436</span>,<span class="number">154350</span>,<span class="number">155277</span>,<span class="number">156024</span>,<span class="number">156240</span>,<span class="number">156289</span>,<span class="number">156325</span>,<span class="number">156915</span>,<span class="number">157950</span>,<span class="number">158193</span>,<span class="number">162072</span>,<span class="number">162526</span>,<span class="number">162720</span>,<span class="number">162976</span>,<span class="number">163255</span>,<span class="number">163795</span>,<span class="number">163854</span>,<span class="number">163944</span>,<span class="number">164583</span>,<span class="number">165208</span>,<span class="number">168520</span>,<span class="number">171598</span>,<span class="number">172246</span>,<span class="number">172386</span>,<span class="number">172822</span>,<span class="number">173250</span>,<span class="number">173925</span>,<span class="number">174028</span>,<span class="number">174082</span>,<span class="number">174208</span>,<span class="number">174280</span>,<span class="number">174298</span>,<span class="number">174370</span>,<span class="number">174793</span>,<span class="number">174802</span>,<span class="number">174820</span>,<span class="number">174982</span>,<span class="number">175329</span>,<span class="number">176215</span>,<span class="number">178294</span>,<span class="number">178942</span>,<span class="number">179325</span>,<span class="number">179428</span>,<span class="number">179482</span>,<span class="number">180225</span>,<span class="number">180297</span>,<span class="number">180621</span>,<span class="number">182065</span>,<span class="number">182250</span>,<span class="number">182650</span>,<span class="number">182700</span>,<span class="number">182974</span>,<span class="number">184126</span>,<span class="number">186624</span>,<span class="number">187029</span>,<span class="number">189702</span>,<span class="number">189742</span>,<span class="number">190260</span>,<span class="number">190827</span>,<span class="number">191205</span>,<span class="number">192150</span>,<span class="number">192375</span>,<span class="number">192685</span>,<span class="number">192717</span>,<span class="number">193257</span>,<span class="number">193945</span>,<span class="number">194229</span>,<span class="number">197428</span>,<span class="number">197482</span>,<span class="number">197725</span>,<span class="number">201852</span>,<span class="number">205785</span>,<span class="number">207391</span>,<span class="number">208624</span>,<span class="number">210375</span>,<span class="number">210681</span>,<span class="number">210753</span>,<span class="number">211896</span>,<span class="number">212868</span>,<span class="number">213075</span>,<span class="number">213466</span>,<span class="number">213750</span>,<span class="number">213759</span>,<span class="number">214506</span>,<span class="number">215086</span>,<span class="number">215424</span>,<span class="number">215455</span>,<span class="number">215860</span>,<span class="number">216733</span>,<span class="number">217503</span>,<span class="number">217530</span>,<span class="number">217638</span>,<span class="number">217854</span>,<span class="number">218488</span>,<span class="number">218700</span>,<span class="number">223524</span>,<span class="number">226498</span>,<span class="number">226872</span>,<span class="number">226876</span>,<span class="number">227448</span>,<span class="number">229648</span>,<span class="number">231579</span>,<span class="number">231673</span>,<span class="number">233896</span>,<span class="number">236754</span>,<span class="number">236758</span>,<span class="number">236925</span>,<span class="number">238968</span>,<span class="number">241506</span>,<span class="number">241564</span>,<span class="number">243175</span>,<span class="number">245182</span>,<span class="number">245448</span>,<span class="number">246150</span>,<span class="number">246928</span>,<span class="number">250105</span>,<span class="number">250510</span>,<span class="number">251005</span>,<span class="number">251050</span>,<span class="number">251095</span>,<span class="number">251896</span>,<span class="number">253750</span>,<span class="number">254740</span>,<span class="number">255010</span>,<span class="number">255100</span>,<span class="number">256315</span>,<span class="number">256410</span>,<span class="number">256414</span>,<span class="number">258795</span>,<span class="number">259510</span>,<span class="number">260338</span>,<span class="number">261378</span>,<span class="number">261783</span>,<span class="number">262984</span>,<span class="number">263074</span>,<span class="number">263155</span>,<span class="number">263736</span>,<span class="number">267034</span>,<span class="number">268398</span>,<span class="number">279328</span>,<span class="number">281736</span>,<span class="number">283198</span>,<span class="number">283648</span>,<span class="number">284598</span>,<span class="number">284760</span>,<span class="number">285376</span>,<span class="number">286416</span>,<span class="number">286974</span>,<span class="number">287356</span>,<span class="number">289674</span>,<span class="number">291375</span>,<span class="number">291753</span>,<span class="number">293625</span>,<span class="number">295105</span>,<span class="number">295510</span>,<span class="number">296320</span>,<span class="number">297463</span>,<span class="number">297832</span>,<span class="number">304717</span>,<span class="number">307183</span>,<span class="number">312475</span>,<span class="number">312565</span>,<span class="number">312655</span>,<span class="number">312975</span>,<span class="number">314199</span>,<span class="number">314743</span>,<span class="number">315009</span>,<span class="number">315090</span>,<span class="number">315490</span>,<span class="number">315594</span>,<span class="number">315625</span>,<span class="number">315900</span>,<span class="number">316255</span>,<span class="number">319059</span>,<span class="number">319536</span>,<span class="number">325615</span>,<span class="number">326155</span>,<span class="number">326452</span>,<span class="number">328419</span>,<span class="number">328864</span>,<span class="number">329346</span>,<span class="number">329656</span>,<span class="number">336195</span>,<span class="number">336550</span>,<span class="number">336960</span>,<span class="number">338296</span>,<span class="number">341284</span>,<span class="number">341653</span>,<span class="number">342688</span>,<span class="number">346288</span>,<span class="number">346725</span>,<span class="number">346968</span>,<span class="number">347913</span>,<span class="number">352966</span>,<span class="number">355995</span>,<span class="number">361989</span>,<span class="number">362992</span>,<span class="number">365638</span>,<span class="number">368104</span>,<span class="number">368550</span>,<span class="number">368784</span>,<span class="number">369189</span>,<span class="number">371893</span>,<span class="number">373864</span>,<span class="number">375156</span>,<span class="number">375615</span>,<span class="number">376992</span>,<span class="number">378400</span>,<span class="number">378418</span>,<span class="number">378450</span>,<span class="number">381429</span>,<span class="number">384912</span>,<span class="number">384925</span>,<span class="number">386415</span>,<span class="number">390847</span>,<span class="number">392566</span>,<span class="number">393246</span>,<span class="number">393417</span>,<span class="number">394875</span>,<span class="number">397840</span>,<span class="number">399784</span>,<span class="number">404932</span>,<span class="number">404968</span>,<span class="number">414895</span>,<span class="number">415575</span>,<span class="number">416065</span>,<span class="number">416259</span>,<span class="number">416650</span>,<span class="number">416988</span>,<span class="number">419287</span>,<span class="number">428980</span>,<span class="number">429664</span>,<span class="number">435784</span>,<span class="number">439582</span>,<span class="number">442975</span>,<span class="number">446760</span>,<span class="number">446976</span>,<span class="number">447916</span>,<span class="number">449676</span>,<span class="number">449955</span>,<span class="number">450688</span>,<span class="number">451768</span>,<span class="number">456840</span>,<span class="number">457168</span>,<span class="number">457600</span>,<span class="number">458640</span>,<span class="number">462672</span>,<span class="number">465088</span>,<span class="number">465984</span>,<span class="number">468535</span>,<span class="number">475380</span>,<span class="number">475893</span>,<span class="number">476892</span>,<span class="number">486720</span>,<span class="number">488592</span>,<span class="number">489159</span>,<span class="number">489955</span>,<span class="number">490176</span>,<span class="number">491688</span>,<span class="number">493857</span>,<span class="number">495328</span>,<span class="number">497682</span>,<span class="number">498550</span>,<span class="number">515907</span>,<span class="number">516879</span>,<span class="number">517509</span>,<span class="number">517590</span>,<span class="number">519745</span>,<span class="number">520168</span>,<span class="number">520816</span>,<span class="number">521608</span>,<span class="number">521680</span>,<span class="number">526792</span>,<span class="number">529672</span>,<span class="number">530379</span>,<span class="number">531297</span>,<span class="number">535968</span>,<span class="number">536539</span>,<span class="number">538650</span>,<span class="number">549765</span>,<span class="number">559188</span>,<span class="number">562950</span>,<span class="number">564912</span>,<span class="number">567648</span>,<span class="number">568750</span>,<span class="number">571648</span>,<span class="number">573768</span>,<span class="number">588676</span>,<span class="number">611793</span>,<span class="number">611878</span>,<span class="number">612598</span>,<span class="number">614965</span>,<span class="number">617728</span>,<span class="number">618759</span>,<span class="number">623758</span>,<span class="number">629680</span>,<span class="number">632875</span>,<span class="number">638950</span>,<span class="number">649638</span>,<span class="number">661288</span>,<span class="number">665919</span>,<span class="number">667876</span>,<span class="number">671409</span>,<span class="number">671490</span>,<span class="number">671944</span>,<span class="number">673920</span>,<span class="number">678892</span>,<span class="number">679500</span>,<span class="number">687919</span>,<span class="number">688000</span>,<span class="number">692712</span>,<span class="number">697248</span>,<span class="number">702189</span>,<span class="number">702918</span>,<span class="number">710496</span>,<span class="number">711099</span>,<span class="number">711909</span>,<span class="number">711990</span>,<span class="number">715959</span>,<span class="number">719199</span>,<span class="number">729688</span>,<span class="number">736695</span>,<span class="number">738468</span>,<span class="number">741928</span>,<span class="number">769792</span>,<span class="number">773896</span>,<span class="number">778936</span>,<span class="number">782896</span>,<span class="number">785295</span>,<span class="number">789250</span>,<span class="number">789525</span>,<span class="number">789750</span>,<span class="number">791289</span>,<span class="number">792585</span>,<span class="number">794088</span>,<span class="number">798682</span>,<span class="number">809919</span>,<span class="number">809937</span>,<span class="number">809964</span>,<span class="number">815958</span>,<span class="number">829696</span>,<span class="number">841995</span>,<span class="number">859968</span>,<span class="number">899019</span>,<span class="number">936985</span>,<span class="number">939658</span>,<span class="number">960988</span>,<span class="number">1000255</span>,<span class="number">1000525</span>,<span class="number">1002501</span>,<span class="number">1002505</span>,<span class="number">1002550</span>,<span class="number">1002595</span>,<span class="number">1002955</span>,<span class="number">1004251</span>,<span class="number">1005025</span>,<span class="number">1005201</span>,<span class="number">1005250</span>,<span class="number">1005295</span>,<span class="number">1008126</span>,<span class="number">1009525</span>,<span class="number">1012099</span>,<span class="number">1012198</span>,<span class="number">1012297</span>,<span class="number">1012396</span>,<span class="number">1012495</span>,<span class="number">1012581</span>,<span class="number">1012594</span>,<span class="number">1012693</span>,<span class="number">1012792</span>,<span class="number">1012891</span>,<span class="number">1012990</span>,<span class="number">1014975</span>,<span class="number">1016568</span>,<span class="number">1016635</span>,<span class="number">1017382</span>,<span class="number">1019722</span>,<span class="number">1020051</span>,<span class="number">1020510</span>,<span class="number">1020537</span>,<span class="number">1021968</span>,<span class="number">1021999</span>,<span class="number">1024555</span>,<span class="number">1024582</span>,<span class="number">1024884</span>,<span class="number">1025005</span>,<span class="number">1025041</span>,<span class="number">1025046</span>,<span class="number">1025050</span>,<span class="number">1025095</span>,<span class="number">1025100</span>,<span class="number">1025410</span>,<span class="number">1025500</span>,<span class="number">1025779</span>,<span class="number">1025950</span>,<span class="number">1025995</span>,<span class="number">1029042</span>,<span class="number">1029420</span>,<span class="number">1029505</span>,<span class="number">1029550</span>,<span class="number">1029595</span>,<span class="number">1029955</span>,<span class="number">1031899</span>,<span class="number">1032565</span>,<span class="number">1032655</span>,<span class="number">1032876</span>,<span class="number">1039680</span>,<span class="number">1040026</span>,<span class="number">1040260</span>,<span class="number">1040368</span>,<span class="number">1041799</span>,<span class="number">1042353</span>,<span class="number">1042542</span>,<span class="number">1042600</span>,<span class="number">1043680</span>,<span class="number">1043968</span>,<span class="number">1045296</span>,<span class="number">1046209</span>,<span class="number">1050021</span>,<span class="number">1050025</span>,<span class="number">1050075</span>,<span class="number">1050210</span>,<span class="number">1050250</span>,<span class="number">1050295</span>,<span class="number">1050750</span>,<span class="number">1051263</span>,<span class="number">1051533</span>,<span class="number">1051699</span>,<span class="number">1052100</span>,<span class="number">1052235</span>,<span class="number">1052500</span>,<span class="number">1052640</span>,<span class="number">1052950</span>,<span class="number">1052995</span>,<span class="number">1053153</span>,<span class="number">1053265</span>,<span class="number">1053315</span>,<span class="number">1057108</span>,<span class="number">1057162</span>,<span class="number">1057230</span>,<span class="number">1057500</span>,<span class="number">1058715</span>,<span class="number">1058890</span>,<span class="number">1061599</span>,<span class="number">1062247</span>,<span class="number">1062517</span>,<span class="number">1063251</span>,<span class="number">1064254</span>,<span class="number">1065325</span>,<span class="number">1065748</span>,<span class="number">1066572</span>,<span class="number">1067166</span>,<span class="number">1068192</span>,<span class="number">1068592</span>,<span class="number">1071063</span>,<span class="number">1071499</span>,<span class="number">1071630</span>,<span class="number">1071958</span>,<span class="number">1072512</span>,<span class="number">1072539</span>,<span class="number">1073029</span>,<span class="number">1073290</span>,<span class="number">1077219</span>,<span class="number">1079239</span>,<span class="number">1079653</span>,<span class="number">1080126</span>,<span class="number">1080135</span>,<span class="number">1080216</span>,<span class="number">1080612</span>,<span class="number">1080864</span>,<span class="number">1081206</span>,<span class="number">1081260</span>,<span class="number">1081350</span>,<span class="number">1081399</span>,<span class="number">1082160</span>,<span class="number">1083285</span>,<span class="number">1083537</span>,<span class="number">1083942</span>,<span class="number">1086012</span>,<span class="number">1086120</span>,<span class="number">1086129</span>,<span class="number">1088640</span>,<span class="number">1088964</span>,<span class="number">1089612</span>,<span class="number">1089913</span>,<span class="number">1090525</span>,<span class="number">1091299</span>,<span class="number">1092816</span>,<span class="number">1095025</span>,<span class="number">1095250</span>,<span class="number">1095295</span>,<span class="number">1098238</span>,<span class="number">1098522</span>,<span class="number">1099525</span>,<span class="number">1104264</span>,<span class="number">1104966</span>,<span class="number">1106424</span>,<span class="number">1106428</span>,<span class="number">1107580</span>,<span class="number">1109295</span>,<span class="number">1113385</span>,<span class="number">1114852</span>,<span class="number">1116684</span>,<span class="number">1116846</span>,<span class="number">1118466</span>,<span class="number">1118736</span>,<span class="number">1123632</span>,<span class="number">1124199</span>,<span class="number">1124680</span>,<span class="number">1124689</span>,<span class="number">1125009</span>,<span class="number">1125090</span>,<span class="number">1125900</span>,<span class="number">1130436</span>,<span class="number">1131448</span>,<span class="number">1134486</span>,<span class="number">1134688</span>,<span class="number">1136268</span>,<span class="number">1137339</span>,<span class="number">1137393</span>,<span class="number">1137933</span>,<span class="number">1138986</span>,<span class="number">1139125</span>,<span class="number">1139229</span>,<span class="number">1140862</span>,<span class="number">1140885</span>,<span class="number">1142680</span>,<span class="number">1144786</span>,<span class="number">1147923</span>,<span class="number">1148175</span>,<span class="number">1150677</span>,<span class="number">1152027</span>,<span class="number">1152225</span>,<span class="number">1152549</span>,<span class="number">1152837</span>,<span class="number">1155996</span>,<span class="number">1156428</span>,<span class="number">1156720</span>,<span class="number">1156833</span>,<span class="number">1156990</span>,<span class="number">1160725</span>,<span class="number">1160995</span>,<span class="number">1163484</span>,<span class="number">1163974</span>,<span class="number">1164096</span>,<span class="number">1164780</span>,<span class="number">1164960</span>,<span class="number">1167250</span>,<span class="number">1167259</span>,<span class="number">1167714</span>,<span class="number">1169280</span>,<span class="number">1169478</span>,<span class="number">1169496</span>,<span class="number">1170670</span>,<span class="number">1172682</span>,<span class="number">1175625</span>,<span class="number">1176039</span>,<span class="number">1176754</span>,<span class="number">1177254</span>,<span class="number">1177384</span>,<span class="number">1178248</span>,<span class="number">1178464</span>,<span class="number">1178635</span>,<span class="number">1179603</span>,<span class="number">1179616</span>,<span class="number">1180242</span>,<span class="number">1181565</span>,<span class="number">1182537</span>,<span class="number">1184008</span>,<span class="number">1184080</span>,<span class="number">1184400</span>,<span class="number">1184625</span>,<span class="number">1184800</span>,<span class="number">1185075</span>,<span class="number">1185678</span>,<span class="number">1185750</span>,<span class="number">1186528</span>,<span class="number">1186992</span>,<span class="number">1187455</span>,<span class="number">1188265</span>,<span class="number">1189206</span>,<span class="number">1189260</span>,<span class="number">1192045</span>,<span class="number">1192554</span>,<span class="number">1193017</span>,<span class="number">1193283</span>,<span class="number">1194831</span>,<span class="number">1195236</span>,<span class="number">1196496</span>,<span class="number">1198408</span>,<span class="number">1198476</span>,<span class="number">1198480</span>,<span class="number">1198575</span>,<span class="number">1198926</span>,<span class="number">1199848</span>,<span class="number">1200006</span>,<span class="number">1200060</span>,<span class="number">1200384</span>,<span class="number">1200600</span>,<span class="number">1200762</span>,<span class="number">1200843</span>,<span class="number">1201086</span>,<span class="number">1201815</span>,<span class="number">1202355</span>,<span class="number">1203084</span>,<span class="number">1203651</span>,<span class="number">1203840</span>,<span class="number">1203894</span>,<span class="number">1204168</span>,<span class="number">1205406</span>,<span class="number">1205482</span>,<span class="number">1205595</span>,<span class="number">1205685</span>,<span class="number">1206000</span>,<span class="number">1206108</span>,<span class="number">1206814</span>,<span class="number">1207620</span>,<span class="number">1207714</span>,<span class="number">1208196</span>,<span class="number">1208403</span>,<span class="number">1208430</span>,<span class="number">1208943</span>,<span class="number">1209541</span>,<span class="number">1209564</span>,<span class="number">1209735</span>,<span class="number">1210806</span>,<span class="number">1210860</span>,<span class="number">1215180</span>,<span class="number">1215760</span>,<span class="number">1215972</span>,<span class="number">1216894</span>,<span class="number">1216948</span>,<span class="number">1218015</span>,<span class="number">1218150</span>,<span class="number">1219576</span>,<span class="number">1225462</span>,<span class="number">1226745</span>,<span class="number">1227460</span>,<span class="number">1227640</span>,<span class="number">1227694</span>,<span class="number">1229548</span>,<span class="number">1229674</span>,<span class="number">1230084</span>,<span class="number">1230840</span>,<span class="number">1230894</span>,<span class="number">1232896</span>,<span class="number">1233540</span>,<span class="number">1234768</span>,<span class="number">1234876</span>,<span class="number">1235038</span>,<span class="number">1235380</span>,<span class="number">1236384</span>,<span class="number">1236726</span>,<span class="number">1236748</span>,<span class="number">1236874</span>,<span class="number">1237369</span>,<span class="number">1237468</span>,<span class="number">1237486</span>,<span class="number">1238400</span>,<span class="number">1238584</span>,<span class="number">1238940</span>,<span class="number">1238994</span>,<span class="number">1240537</span>,<span class="number">1240677</span>,<span class="number">1240843</span>,<span class="number">1241284</span>,<span class="number">1243584</span>,<span class="number">1244502</span>,<span class="number">1244830</span>,<span class="number">1244880</span>,<span class="number">1245208</span>,<span class="number">1245420</span>,<span class="number">1245964</span>,<span class="number">1246396</span>,<span class="number">1247958</span>,<span class="number">1248876</span>,<span class="number">1249528</span>,<span class="number">1249668</span>,<span class="number">1249780</span>,<span class="number">1250005</span>,<span class="number">1250050</span>,<span class="number">1250095</span>,<span class="number">1250496</span>,<span class="number">1250500</span>,<span class="number">1250950</span>,<span class="number">1250964</span>,<span class="number">1250995</span>,<span class="number">1252480</span>,<span class="number">1253065</span>,<span class="number">1253632</span>,<span class="number">1254330</span>,<span class="number">1254600</span>,<span class="number">1254748</span>,<span class="number">1255000</span>,<span class="number">1255005</span>,<span class="number">1255729</span>,<span class="number">1255810</span>,<span class="number">1256436</span>,<span class="number">1256490</span>,<span class="number">1256530</span>,<span class="number">1256827</span>,<span class="number">1258816</span>,<span class="number">1259473</span>,<span class="number">1259500</span>,<span class="number">1259649</span>,<span class="number">1259793</span>,<span class="number">1259950</span>,<span class="number">1259995</span>,<span class="number">1260000</span>,<span class="number">1260108</span>,<span class="number">1260270</span>,<span class="number">1261080</span>,<span class="number">1261399</span>,<span class="number">1261885</span>,<span class="number">1262079</span>,<span class="number">1263456</span>,<span class="number">1263604</span>,<span class="number">1263748</span>,<span class="number">1264086</span>,<span class="number">1264536</span>,<span class="number">1265305</span>,<span class="number">1265530</span>,<span class="number">1268316</span>,<span class="number">1268374</span>,<span class="number">1268460</span>,<span class="number">1269342</span>,<span class="number">1269774</span>,<span class="number">1270647</span>,<span class="number">1270948</span>,<span class="number">1271943</span>,<span class="number">1274170</span>,<span class="number">1274368</span>,<span class="number">1274665</span>,<span class="number">1274836</span>,<span class="number">1274872</span>,<span class="number">1275264</span>,<span class="number">1275286</span>,<span class="number">1275925</span>,<span class="number">1276065</span>,<span class="number">1276200</span>,<span class="number">1276348</span>,<span class="number">1276524</span>,<span class="number">1276834</span>,<span class="number">1279642</span>,<span class="number">1280524</span>,<span class="number">1281582</span>,<span class="number">1282716</span>,<span class="number">1283166</span>,<span class="number">1283359</span>,<span class="number">1283476</span>,<span class="number">1283544</span>,<span class="number">1283674</span>,<span class="number">1283746</span>,<span class="number">1284003</span>,<span class="number">1284030</span>,<span class="number">1284300</span>,<span class="number">1284435</span>,<span class="number">1285384</span>,<span class="number">1285915</span>,<span class="number">1286374</span>,<span class="number">1286608</span>,<span class="number">1286968</span>,<span class="number">1287436</span>,<span class="number">1287634</span>,<span class="number">1288354</span>,<span class="number">1289376</span>,<span class="number">1289403</span>,<span class="number">1289430</span>,<span class="number">1289943</span>,<span class="number">1290564</span>,<span class="number">1291234</span>,<span class="number">1291675</span>,<span class="number">1292458</span>,<span class="number">1292746</span>,<span class="number">1294380</span>,<span class="number">1294519</span>,<span class="number">1295005</span>,<span class="number">1295014</span>,<span class="number">1295050</span>,<span class="number">1295095</span>,<span class="number">1295140</span>,<span class="number">1295500</span>,<span class="number">1295640</span>,<span class="number">1295644</span>,<span class="number">1295694</span>,<span class="number">1295950</span>,<span class="number">1295964</span>,<span class="number">1295995</span>,<span class="number">1296400</span>,<span class="number">1296648</span>,<span class="number">1297611</span>,<span class="number">1297750</span>,<span class="number">1298475</span>,<span class="number">1298632</span>,<span class="number">1299505</span>,<span class="number">1299550</span>,<span class="number">1299595</span>,<span class="number">1299955</span>,<span class="number">1302448</span>,<span class="number">1302565</span>,<span class="number">1302655</span>,<span class="number">1302714</span>,<span class="number">1303438</span>,<span class="number">1304118</span>,<span class="number">1305265</span>,<span class="number">1306246</span>,<span class="number">1306278</span>,<span class="number">1306525</span>,<span class="number">1307826</span>,<span class="number">1312420</span>,<span class="number">1312542</span>,<span class="number">1312726</span>,<span class="number">1314895</span>,<span class="number">1318648</span>,<span class="number">1320241</span>,<span class="number">1320475</span>,<span class="number">1320493</span>,<span class="number">1320867</span>,<span class="number">1322046</span>,<span class="number">1322455</span>,<span class="number">1324125</span>,<span class="number">1324300</span>,<span class="number">1324584</span>,<span class="number">1324854</span>,<span class="number">1324917</span>,<span class="number">1325065</span>,<span class="number">1325650</span>,<span class="number">1325695</span>,<span class="number">1325776</span>,<span class="number">1325965</span>,<span class="number">1326150</span>,<span class="number">1326204</span>,<span class="number">1326415</span>,<span class="number">1326505</span>,<span class="number">1326550</span>,<span class="number">1326595</span>,<span class="number">1326717</span>,<span class="number">1326955</span>,<span class="number">1328445</span>,<span class="number">1329565</span>,<span class="number">1329655</span>,<span class="number">1332450</span>,<span class="number">1335442</span>,<span class="number">1336176</span>,<span class="number">1338246</span>,<span class="number">1338768</span>,<span class="number">1339416</span>,<span class="number">1340163</span>,<span class="number">1341027</span>,<span class="number">1341274</span>,<span class="number">1342750</span>,<span class="number">1342768</span>,<span class="number">1342876</span>,<span class="number">1345360</span>,<span class="number">1347250</span>,<span class="number">1347628</span>,<span class="number">1347682</span>,<span class="number">1348276</span>,<span class="number">1348285</span>,<span class="number">1348762</span>,<span class="number">1348974</span>,<span class="number">1348996</span>,<span class="number">1349023</span>,<span class="number">1350045</span>,<span class="number">1350450</span>,<span class="number">1352286</span>,<span class="number">1352416</span>,<span class="number">1352457</span>,<span class="number">1352664</span>,<span class="number">1352929</span>,<span class="number">1354284</span>,<span class="number">1354288</span>,<span class="number">1354500</span>,<span class="number">1356376</span>,<span class="number">1356498</span>,<span class="number">1357398</span>,<span class="number">1357884</span>,<span class="number">1357924</span>,<span class="number">1358280</span>,<span class="number">1358370</span>,<span class="number">1358442</span>,<span class="number">1360435</span>,<span class="number">1361785</span>,<span class="number">1362438</span>,<span class="number">1362748</span>,<span class="number">1362874</span>,<span class="number">1365250</span>,<span class="number">1367428</span>,<span class="number">1367482</span>,<span class="number">1368054</span>,<span class="number">1368274</span>,<span class="number">1368432</span>,<span class="number">1368540</span>,<span class="number">1368594</span>,<span class="number">1368742</span>,<span class="number">1369480</span>,<span class="number">1369732</span>,<span class="number">1371784</span>,<span class="number">1373071</span>,<span class="number">1374268</span>,<span class="number">1374286</span>,<span class="number">1374628</span>,<span class="number">1374682</span>,<span class="number">1374826</span>,<span class="number">1374862</span>,<span class="number">1375479</span>,<span class="number">1379128</span>,<span class="number">1379448</span>,<span class="number">1380645</span>,<span class="number">1381743</span>,<span class="number">1386571</span>,<span class="number">1387840</span>,<span class="number">1387984</span>,<span class="number">1388178</span>,<span class="number">1392435</span>,<span class="number">1395000</span>,<span class="number">1395648</span>,<span class="number">1396782</span>,<span class="number">1397281</span>,<span class="number">1398240</span>,<span class="number">1400035</span>,<span class="number">1400350</span>,<span class="number">1401696</span>,<span class="number">1402533</span>,<span class="number">1402695</span>,<span class="number">1402978</span>,<span class="number">1403500</span>,<span class="number">1406137</span>,<span class="number">1409278</span>,<span class="number">1409782</span>,<span class="number">1413045</span>,<span class="number">1413445</span>,<span class="number">1413450</span>,<span class="number">1413472</span>,<span class="number">1417437</span>,<span class="number">1418679</span>,<span class="number">1418976</span>,<span class="number">1419165</span>,<span class="number">1420978</span>,<span class="number">1423318</span>,<span class="number">1425375</span>,<span class="number">1425753</span>,<span class="number">1426225</span>,<span class="number">1427368</span>,<span class="number">1427899</span>,<span class="number">1428736</span>,<span class="number">1429780</span>,<span class="number">1429798</span>,<span class="number">1429978</span>,<span class="number">1430941</span>,<span class="number">1432768</span>,<span class="number">1432876</span>,<span class="number">1434069</span>,<span class="number">1435000</span>,<span class="number">1435036</span>,<span class="number">1436472</span>,<span class="number">1436526</span>,<span class="number">1436728</span>,<span class="number">1436872</span>,<span class="number">1437039</span>,<span class="number">1437093</span>,<span class="number">1437268</span>,<span class="number">1437286</span>,<span class="number">1437309</span>,<span class="number">1437390</span>,<span class="number">1437520</span>,<span class="number">1437903</span>,<span class="number">1437930</span>,<span class="number">1439059</span>,<span class="number">1439739</span>,<span class="number">1439793</span>,<span class="number">1443096</span>,<span class="number">1443906</span>,<span class="number">1448392</span>,<span class="number">1452343</span>,<span class="number">1452730</span>,<span class="number">1452888</span>,<span class="number">1453140</span>,<span class="number">1453450</span>,<span class="number">1455970</span>,<span class="number">1456798</span>,<span class="number">1456803</span>,<span class="number">1456830</span>,<span class="number">1458810</span>,<span class="number">1458828</span>,<span class="number">1458832</span>,<span class="number">1459354</span>,<span class="number">1461370</span>,<span class="number">1462072</span>,<span class="number">1463728</span>,<span class="number">1465200</span>,<span class="number">1465290</span>,<span class="number">1465870</span>,<span class="number">1468372</span>,<span class="number">1468953</span>,<span class="number">1469520</span>,<span class="number">1470568</span>,<span class="number">1471365</span>,<span class="number">1472368</span>,<span class="number">1472836</span>,<span class="number">1473628</span>,<span class="number">1473664</span>,<span class="number">1473678</span>,<span class="number">1473682</span>,<span class="number">1473934</span>,<span class="number">1475266</span>,<span class="number">1475635</span>,<span class="number">1476328</span>,<span class="number">1476688</span>,<span class="number">1476832</span>,<span class="number">1480279</span>,<span class="number">1482138</span>,<span class="number">1482736</span>,<span class="number">1483276</span>,<span class="number">1483672</span>,<span class="number">1483726</span>,<span class="number">1484892</span>,<span class="number">1486372</span>,<span class="number">1487236</span>,<span class="number">1487286</span>,<span class="number">1487362</span>,<span class="number">1487632</span>,<span class="number">1489752</span>,<span class="number">1492456</span>,<span class="number">1492632</span>,<span class="number">1493640</span>,<span class="number">1493739</span>,<span class="number">1493793</span>,<span class="number">1493964</span>,<span class="number">1495683</span>,<span class="number">1495786</span>,<span class="number">1497366</span>,<span class="number">1497802</span>,<span class="number">1497820</span>,<span class="number">1497982</span>,<span class="number">1498032</span>,<span class="number">1498783</span>,<span class="number">1499782</span>,<span class="number">1500003</span>,<span class="number">1500030</span>,<span class="number">1500246</span>,<span class="number">1500300</span>,<span class="number">1500435</span>,<span class="number">1500624</span>,<span class="number">1502406</span>,<span class="number">1502460</span>,<span class="number">1502946</span>,<span class="number">1503000</span>,<span class="number">1504350</span>,<span class="number">1506024</span>,<span class="number">1506240</span>,<span class="number">1506294</span>,<span class="number">1506325</span>,<span class="number">1506523</span>,<span class="number">1507968</span>,<span class="number">1508026</span>,<span class="number">1508260</span>,<span class="number">1510267</span>,<span class="number">1510533</span>,<span class="number">1512396</span>,<span class="number">1518264</span>,<span class="number">1519978</span>,<span class="number">1520365</span>,<span class="number">1520608</span>,<span class="number">1520766</span>,<span class="number">1522710</span>,<span class="number">1523277</span>,<span class="number">1524006</span>,<span class="number">1524060</span>,<span class="number">1524339</span>,<span class="number">1524600</span>,<span class="number">1524762</span>,<span class="number">1524978</span>,<span class="number">1525630</span>,<span class="number">1526080</span>,<span class="number">1526287</span>,<span class="number">1526305</span>,<span class="number">1526850</span>,<span class="number">1529325</span>,<span class="number">1529406</span>,<span class="number">1529460</span>,<span class="number">1529946</span>,<span class="number">1530000</span>,<span class="number">1530054</span>,<span class="number">1530625</span>,<span class="number">1531053</span>,<span class="number">1532389</span>,<span class="number">1532560</span>,<span class="number">1532605</span>,<span class="number">1532776</span>,<span class="number">1533105</span>,<span class="number">1534360</span>,<span class="number">1537263</span>,<span class="number">1537425</span>,<span class="number">1538181</span>,<span class="number">1538433</span>,<span class="number">1538964</span>,<span class="number">1541938</span>,<span class="number">1542343</span>,<span class="number">1542496</span>,<span class="number">1543284</span>,<span class="number">1543500</span>,<span class="number">1543716</span>,<span class="number">1547334</span>,<span class="number">1548738</span>,<span class="number">1552630</span>,<span class="number">1552770</span>,<span class="number">1553260</span>,<span class="number">1553269</span>,<span class="number">1553409</span>,<span class="number">1558228</span>,<span class="number">1558426</span>,<span class="number">1560024</span>,<span class="number">1560240</span>,<span class="number">1560325</span>,<span class="number">1562224</span>,<span class="number">1562346</span>,<span class="number">1562400</span>,<span class="number">1562530</span>,<span class="number">1562890</span>,<span class="number">1563025</span>,<span class="number">1563048</span>,<span class="number">1563250</span>,<span class="number">1563264</span>,<span class="number">1563295</span>,<span class="number">1563507</span>,<span class="number">1565329</span>,<span class="number">1568484</span>,<span class="number">1569150</span>,<span class="number">1570392</span>,<span class="number">1572925</span>,<span class="number">1574253</span>,<span class="number">1576827</span>,<span class="number">1579419</span>,<span class="number">1579486</span>,<span class="number">1579500</span>,<span class="number">1579648</span>,<span class="number">1581268</span>,<span class="number">1581930</span>,<span class="number">1583145</span>,<span class="number">1583865</span>,<span class="number">1584432</span>,<span class="number">1585390</span>,<span class="number">1586245</span>,<span class="number">1586304</span>,<span class="number">1587820</span>,<span class="number">1588158</span>,<span class="number">1590435</span>,<span class="number">1590835</span>,<span class="number">1591884</span>,<span class="number">1592419</span>,<span class="number">1594138</span>,<span class="number">1596325</span>,<span class="number">1597725</span>,<span class="number">1599426</span>,<span class="number">1601626</span>,<span class="number">1603255</span>,<span class="number">1605208</span>,<span class="number">1605325</span>,<span class="number">1608246</span>,<span class="number">1608520</span>,<span class="number">1608624</span>,<span class="number">1613538</span>,<span class="number">1614235</span>,<span class="number">1614262</span>,<span class="number">1615374</span>,<span class="number">1615833</span>,<span class="number">1620072</span>,<span class="number">1620720</span>,<span class="number">1624338</span>,<span class="number">1624536</span>,<span class="number">1625026</span>,<span class="number">1625260</span>,<span class="number">1625305</span>,<span class="number">1625476</span>,<span class="number">1625530</span>,<span class="number">1626322</span>,<span class="number">1627200</span>,<span class="number">1627348</span>,<span class="number">1627524</span>,<span class="number">1627632</span>,<span class="number">1627857</span>,<span class="number">1628734</span>,<span class="number">1629396</span>,<span class="number">1629576</span>,<span class="number">1629760</span>,<span class="number">1630255</span>,<span class="number">1630287</span>,<span class="number">1630525</span>,<span class="number">1632505</span>,<span class="number">1632550</span>,<span class="number">1632595</span>,<span class="number">1632708</span>,<span class="number">1632748</span>,<span class="number">1632874</span>,<span class="number">1632955</span>,<span class="number">1633545</span>,<span class="number">1634728</span>,<span class="number">1634872</span>,<span class="number">1637950</span>,<span class="number">1638054</span>,<span class="number">1638540</span>,<span class="number">1638594</span>,<span class="number">1639440</span>,<span class="number">1642356</span>,<span class="number">1642455</span>,<span class="number">1643292</span>,<span class="number">1645312</span>,<span class="number">1645735</span>,<span class="number">1645803</span>,<span class="number">1645830</span>,<span class="number">1645839</span>,<span class="number">1647436</span>,<span class="number">1647828</span>,<span class="number">1648732</span>,<span class="number">1649583</span>,<span class="number">1652008</span>,<span class="number">1652080</span>,<span class="number">1652472</span>,<span class="number">1652584</span>,<span class="number">1657062</span>,<span class="number">1662039</span>,<span class="number">1664892</span>,<span class="number">1667952</span>,<span class="number">1672348</span>,<span class="number">1672398</span>,<span class="number">1672528</span>,<span class="number">1672834</span>,<span class="number">1672884</span>,<span class="number">1672965</span>,<span class="number">1673257</span>,<span class="number">1673428</span>,<span class="number">1673482</span>,<span class="number">1673752</span>,<span class="number">1674328</span>,<span class="number">1674832</span>,<span class="number">1675728</span>,<span class="number">1677672</span>,<span class="number">1679458</span>,<span class="number">1680520</span>,<span class="number">1682032</span>,<span class="number">1682608</span>,<span class="number">1682734</span>,<span class="number">1683274</span>,<span class="number">1683346</span>,<span class="number">1683472</span>,<span class="number">1685200</span>,<span class="number">1687149</span>,<span class="number">1687234</span>,<span class="number">1687342</span>,<span class="number">1687432</span>,<span class="number">1687950</span>,<span class="number">1688328</span>,<span class="number">1691865</span>,<span class="number">1693237</span>,<span class="number">1693795</span>,<span class="number">1695537</span>,<span class="number">1698327</span>,<span class="number">1698412</span>,<span class="number">1698642</span>,<span class="number">1698750</span>,<span class="number">1699137</span>,<span class="number">1702345</span>,<span class="number">1702624</span>,<span class="number">1704312</span>,<span class="number">1704339</span>,<span class="number">1712434</span>,<span class="number">1713649</span>,<span class="number">1715098</span>,<span class="number">1715980</span>,<span class="number">1716975</span>,<span class="number">1717699</span>,<span class="number">1718248</span>,<span class="number">1722460</span>,<span class="number">1723036</span>,<span class="number">1723468</span>,<span class="number">1723486</span>,<span class="number">1723698</span>,<span class="number">1723806</span>,<span class="number">1723860</span>,<span class="number">1723927</span>,<span class="number">1724184</span>,<span class="number">1724886</span>,<span class="number">1726348</span>,<span class="number">1726834</span>,<span class="number">1726884</span>,<span class="number">1727896</span>,<span class="number">1728220</span>,<span class="number">1728342</span>,<span class="number">1728346</span>,<span class="number">1728634</span>,<span class="number">1732153</span>,<span class="number">1732414</span>,<span class="number">1732500</span>,<span class="number">1734129</span>,<span class="number">1734268</span>,<span class="number">1734286</span>,<span class="number">1734628</span>,<span class="number">1734682</span>,<span class="number">1734826</span>,<span class="number">1734862</span>,<span class="number">1739128</span>,<span class="number">1739250</span>,<span class="number">1739925</span>,<span class="number">1740028</span>,<span class="number">1740082</span>,<span class="number">1740208</span>,<span class="number">1740235</span>,<span class="number">1740280</span>,<span class="number">1740298</span>,<span class="number">1740802</span>,<span class="number">1740820</span>,<span class="number">1740982</span>,<span class="number">1742008</span>,<span class="number">1742080</span>,<span class="number">1742098</span>,<span class="number">1742800</span>,<span class="number">1742958</span>,<span class="number">1742980</span>,<span class="number">1742998</span>,<span class="number">1743268</span>,<span class="number">1743286</span>,<span class="number">1743700</span>,<span class="number">1743997</span>,<span class="number">1746328</span>,<span class="number">1746832</span>,<span class="number">1747039</span>,<span class="number">1747930</span>,<span class="number">1748002</span>,<span class="number">1748020</span>,<span class="number">1748200</span>,<span class="number">1748326</span>,<span class="number">1748632</span>,<span class="number">1749802</span>,<span class="number">1749820</span>,<span class="number">1749982</span>,<span class="number">1750432</span>,<span class="number">1753290</span>,<span class="number">1755918</span>,<span class="number">1756890</span>,<span class="number">1758393</span>,<span class="number">1759198</span>,<span class="number">1760535</span>,<span class="number">1762069</span>,<span class="number">1762150</span>,<span class="number">1762384</span>,<span class="number">1765273</span>,<span class="number">1768248</span>,<span class="number">1772941</span>,<span class="number">1775038</span>,<span class="number">1779975</span>,<span class="number">1780294</span>,<span class="number">1780942</span>,<span class="number">1782094</span>,<span class="number">1782562</span>,<span class="number">1782940</span>,<span class="number">1782994</span>,<span class="number">1783584</span>,<span class="number">1784695</span>,<span class="number">1785204</span>,<span class="number">1785726</span>,<span class="number">1789402</span>,<span class="number">1789420</span>,<span class="number">1789942</span>,<span class="number">1790995</span>,<span class="number">1792386</span>,<span class="number">1793250</span>,<span class="number">1793925</span>,<span class="number">1794028</span>,<span class="number">1794082</span>,<span class="number">1794208</span>,<span class="number">1794280</span>,<span class="number">1794298</span>,<span class="number">1794802</span>,<span class="number">1794820</span>,<span class="number">1794883</span>,<span class="number">1794982</span>,<span class="number">1795680</span>,<span class="number">1798294</span>,<span class="number">1798942</span>,<span class="number">1799325</span>,<span class="number">1799428</span>,<span class="number">1799482</span>,<span class="number">1800225</span>,<span class="number">1802250</span>,<span class="number">1802727</span>,<span class="number">1802970</span>,<span class="number">1802974</span>,<span class="number">1804288</span>,<span class="number">1806021</span>,<span class="number">1806210</span>,<span class="number">1807029</span>,<span class="number">1809702</span>,<span class="number">1809742</span>,<span class="number">1812636</span>,<span class="number">1813747</span>,<span class="number">1815835</span>,<span class="number">1820065</span>,<span class="number">1820227</span>,<span class="number">1820650</span>,<span class="number">1820763</span>,<span class="number">1820875</span>,<span class="number">1820974</span>,<span class="number">1822500</span>,<span class="number">1823845</span>,<span class="number">1823976</span>,<span class="number">1824732</span>,<span class="number">1825416</span>,<span class="number">1826055</span>,<span class="number">1826500</span>,<span class="number">1826892</span>,<span class="number">1827000</span>,<span class="number">1828075</span>,<span class="number">1828701</span>,<span class="number">1829079</span>,<span class="number">1829740</span>,<span class="number">1829794</span>,<span class="number">1829974</span>,<span class="number">1831752</span>,<span class="number">1834128</span>,<span class="number">1835046</span>,<span class="number">1835644</span>,<span class="number">1839744</span>,<span class="number">1839852</span>,<span class="number">1841260</span>,<span class="number">1847286</span>,<span class="number">1851988</span>,<span class="number">1852384</span>,<span class="number">1854832</span>,<span class="number">1854972</span>,<span class="number">1856272</span>,<span class="number">1856277</span>,<span class="number">1858212</span>,<span class="number">1861249</span>,<span class="number">1863504</span>,<span class="number">1866240</span>,<span class="number">1867216</span>,<span class="number">1867536</span>,<span class="number">1870209</span>,<span class="number">1870290</span>,<span class="number">1871428</span>,<span class="number">1873264</span>,<span class="number">1874520</span>,<span class="number">1879195</span>,<span class="number">1879326</span>,<span class="number">1882435</span>,<span class="number">1887291</span>,<span class="number">1890265</span>,<span class="number">1890702</span>,<span class="number">1893258</span>,<span class="number">1895364</span>,<span class="number">1897020</span>,<span class="number">1897213</span>,<span class="number">1897402</span>,<span class="number">1897420</span>,<span class="number">1897942</span>,<span class="number">1899742</span>,<span class="number">1900521</span>,<span class="number">1902109</span>,<span class="number">1902465</span>,<span class="number">1902600</span>,<span class="number">1902775</span>,<span class="number">1904274</span>,<span class="number">1904728</span>,<span class="number">1905025</span>,<span class="number">1908270</span>,<span class="number">1908324</span>,<span class="number">1908522</span>,<span class="number">1909026</span>,<span class="number">1909215</span>,<span class="number">1912050</span>,<span class="number">1912806</span>,<span class="number">1913886</span>,<span class="number">1914129</span>,<span class="number">1915893</span>,<span class="number">1917958</span>,<span class="number">1919232</span>,<span class="number">1920235</span>,<span class="number">1920285</span>,<span class="number">1920555</span>,<span class="number">1920919</span>,<span class="number">1921500</span>,<span class="number">1923628</span>,<span class="number">1923750</span>,<span class="number">1925658</span>,<span class="number">1925896</span>,<span class="number">1926504</span>,<span class="number">1926850</span>,<span class="number">1927062</span>,<span class="number">1927170</span>,<span class="number">1928115</span>,<span class="number">1929816</span>,<span class="number">1932417</span>,<span class="number">1932570</span>,<span class="number">1934946</span>,<span class="number">1935220</span>,<span class="number">1935756</span>,<span class="number">1937592</span>,<span class="number">1937848</span>,<span class="number">1938321</span>,<span class="number">1939450</span>,<span class="number">1942290</span>,<span class="number">1942978</span>,<span class="number">1946853</span>,<span class="number">1949782</span>,<span class="number">1950835</span>,<span class="number">1956325</span>,<span class="number">1962675</span>,<span class="number">1963255</span>,<span class="number">1965433</span>,<span class="number">1965537</span>,<span class="number">1965820</span>,<span class="number">1966288</span>,<span class="number">1967238</span>,<span class="number">1968219</span>,<span class="number">1973826</span>,<span class="number">1974028</span>,<span class="number">1974082</span>,<span class="number">1974208</span>,<span class="number">1974280</span>,<span class="number">1974298</span>,<span class="number">1974802</span>,<span class="number">1974820</span>,<span class="number">1974982</span>,<span class="number">1977250</span>,<span class="number">1978294</span>,<span class="number">1978942</span>,<span class="number">1979428</span>,<span class="number">1979482</span>,<span class="number">1979725</span>,<span class="number">1979802</span>,<span class="number">1980252</span>,<span class="number">1982061</span>,<span class="number">1982974</span>,<span class="number">1984248</span>,<span class="number">1985328</span>,<span class="number">1989742</span>,<span class="number">1994265</span>,<span class="number">1997428</span>,<span class="number">1997482</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	int cnt = 0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	for(int i = 10;i &lt;= 2000000;i++)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		if(check(i))</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			a[cnt++] = i;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	for(int i = 0;i &lt; cnt;i++)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		printf("%d,",a[i]);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	cout&lt;&lt;endl;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span> &amp;&amp; n)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> t = lower_bound(a,a+cnt,n)-a;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[t]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/16/hdu4848/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/16/hdu4848/" itemprop="url">
                  HDU 4848 Wow! Such Conquering! （搜索）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-16 18:31:27" itemprop="dateCreated datePublished" datetime="2014-07-16T18:31:27+08:00">2014-07-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 21:00:47" itemprop="dateModified" datetime="2018-07-29T21:00:47+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Online-Judge/" itemprop="url" rel="index"><span itemprop="name">Online Judge</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/" itemprop="url" rel="index"><span itemprop="name">HDU</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/搜索/" itemprop="url" rel="index"><span itemprop="name">搜索</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="HDU4848"><a href="#HDU4848" class="headerlink" title="HDU4848"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4848" target="_blank" rel="noopener">HDU4848</a></h3><h1 id="Wow-Such-Conquering"><a href="#Wow-Such-Conquering" class="headerlink" title="Wow! Such Conquering!"></a>Wow! Such Conquering!</h1><p><strong>Time Limit: 15000/8000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others) Total Submission(s): 290    Accepted Submission(s): 92</strong>  </p>
<p>Problem Description</p>
<p>There are n Doge Planets in the Doge Space. The conqueror of Doge Space is Super Doge, who is going to inspect his Doge Army on all Doge Planets. The inspection starts from Doge Planet 1 where DOS (Doge Olympic Statue) was built. It takes Super Doge exactly Txy time to travel from Doge Planet x to Doge Planet y. With the ambition of conquering other spaces, he would like to visit all Doge Planets as soon as possible. More specifically, he would like to visit the Doge Planet x at the time no later than Deadlinex. He also wants the sum of all arrival time of each Doge Planet to be as small as possible. You can assume it takes so little time to inspect his Doge Army that we can ignore it.</p>
<p>Input</p>
<p>There are multiple test cases. Please process till EOF. Each test case contains several lines. The first line of each test case contains one integer: n, as mentioned above, the number of Doge Planets. Then follow n lines, each contains n integers, where the y-th integer in the x-th line is Txy . Then follows a single line containing n - 1 integers: Deadline2 to Deadlinen. All numbers are guaranteed to be non-negative integers smaller than or equal to one million. n is guaranteed to be no less than 3 and no more than 30.</p>
<p>Output</p>
<p>If some Deadlines can not be fulfilled, please output “-1” (which means the Super Doge will say “WOW! So Slow! Such delay! Much Anger! . . . ” , but you do not need to output it), else output the minimum sum of all arrival time to each Doge Planet.</p>
<p>Sample Input</p>
<p>4<br>0 3 8 6<br>4 0 7 4<br>7 5 0 2<br>6 9 3 0<br>30 8 30<br>4<br>0 2 3 3<br>2 0 3 3<br>2 3 0 3<br>2 3 3 0<br>2 3 3</p>
<p>Sample Output</p>
<p>36 -136<br>-1</p>
<p><em>Hint</em></p>
<p><strong>Explanation</strong>: In case #1: The Super Doge travels to Doge Planet 2 at the time of 8 and to Doge Planet 3 at the time of 12, then to Doge Planet 4 at the time of 16. The minimum sum of all arrival time is 36.</p>
<p>Source</p>
<p><a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2014%CE%F7%B0%B2%C8%AB%B9%FA%D1%FB%C7%EB%C8%FC&amp;source=1&amp;searchmode=source" target="_blank" rel="noopener">2014西安全国邀请赛</a></p>
<p>题意很清楚，也比较简单。 就是从1这点出发，要经过2~n的点，每个点要在截止时间前到达。 求最后总到达时间的和最小。   直接暴力搜索就可以了，简单剪枝。很水的题。  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/16 18:15:26</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\比赛\2014西安邀请赛\B.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dt[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> used[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> now,<span class="keyword">int</span> tot,<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(cnt == n<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(tot &lt; ans)ans = tot;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(tot + (n<span class="number">-1</span>-cnt)*now &gt;= ans)<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!used[i] &amp;&amp; now+a[u][i] &gt; dt[i])</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!used[i])</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			used[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">			dfs(i,now+a[u][i],tot+now+a[u][i],cnt+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">			used[i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line"></span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i][j]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; n;k++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(a[i][k]+a[k][j] &lt; a[i][j])</span><br><span class="line"></span><br><span class="line">						a[i][j] = a[i][k]+a[k][j];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;dt[i]);</span><br><span class="line"></span><br><span class="line">		ans = INF;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(used,<span class="literal">false</span>,<span class="keyword">sizeof</span>(used));</span><br><span class="line"></span><br><span class="line">		dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(ans == INF)ans = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/13/regionals-2013-asia-dhaka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/13/regionals-2013-asia-dhaka/" itemprop="url">
                  Regionals 2013 :: Asia - Dhaka
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-13 20:29:40" itemprop="dateCreated datePublished" datetime="2014-07-13T20:29:40+08:00">2014-07-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 13:43:28" itemprop="dateModified" datetime="2018-07-29T13:43:28+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Contest/" itemprop="url" rel="index"><span itemprop="name">Contest</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Contest/套题/" itemprop="url" rel="index"><span itemprop="name">套题</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目链接：UVALive"><a href="#题目链接：UVALive" class="headerlink" title="题目链接：UVALive"></a>题目链接：<a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=594" target="_blank" rel="noopener">UVALive</a></h2><h3 id="开的比赛地址：VJ"><a href="#开的比赛地址：VJ" class="headerlink" title="开的比赛地址：VJ"></a>开的比赛地址：<a href="http://vjudge.net/contest/view.action?cid=48874#overview" target="_blank" rel="noopener">VJ</a></h3><p>  A:</p>
<h3 id="Falling-Ants"><a href="#Falling-Ants" class="headerlink" title="Falling Ants"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4661&amp;mosmsg=Submission+received+with+ID+1477836" target="_blank" rel="noopener">Falling Ants</a></h3><p>水题。找一个H最大的，相同找H*W*L最大的。输出H*W*L;</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/5 14:07:59<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\A.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>int L[110],W[110],H[110];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int n;<br>    while(scanf(“%d”,&amp;n) ==1 &amp;&amp; n)<br>    {<br>        for(int i = 0;i &lt; n;i++)<br>            scanf(“%d%d%d”,&amp;L[i],&amp;W[i],&amp;H[i]);<br>        int ans = 0;<br>        for(int i = 1;i &lt; n;i++)<br>            if(H[i] &gt; H[ans] || (H[i] == H[ans] &amp;&amp; H[i]*W[i]*L[i] &gt; H[ans]*W[ans]*L[ans]))<br>                ans = i;<br>        printf(“%d\n”,H[ans]*L[ans]*W[ans]);<br>    }<br>    return 0;<br>}</p>
<p>  B:</p>
<h3 id="Game-of-MJ"><a href="#Game-of-MJ" class="headerlink" title="Game of MJ"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4662&amp;mosmsg=Submission+received+with+ID+1480767" target="_blank" rel="noopener">Game of MJ</a></h3><p>比较简单的博弈题。稍微分析下就可以了。 每一位上加1的话，有不同效果，有的是模3为0,1,2的。 不同位上进行分类，得到cnt0,cnt1,cnt2,代码这些位上数字操作模3的效果。   可以发现第一个人有两种方法： 1  1   2   1   2    1    2    1   2   1   2…… 2   2  1   2   1   2    1   2     1   2    1…. 1表示模3为1的，2表示模3为2的。 模3为0的可以插入到中间去。 这样分类讨论下就可以知道结果了。 具体看代码吧。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/5 14:45:36<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\B.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n;<br>    int iCase = 0;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        iCase++;<br>        long long cnt0 = 0, cnt1 = 0, cnt2 = 0;<br>        scanf(“%d”,&amp;n);<br>        int L,B;<br>        while(n–)<br>        {<br>            scanf(“%d%d”,&amp;L,&amp;B);<br>            if(L == 1)continue;<br>            if(B%3 == 0)<br>            {<br>                cnt0 += (long long)(L-1)<em>(B-1);<br>            }<br>            else if(B%3 == 1)<br>            {<br>                cnt1 += (long long)(L-1)</em>(B-1);<br>            }<br>            else<br>            {<br>                cnt1 += (long long)((L-1)/2)<em>(B-1);<br>                cnt2 += (long long)(L/2)</em>(B-1);<br>            }<br>        }<br>        //不能操作<br>        if(cnt0 == 0 &amp;&amp; cnt1 == 0 &amp;&amp; cnt2 == 0)<br>        {<br>            printf(“Case %d: Draw\n”,iCase);<br>            continue;<br>        }<br>        if(cnt1 == 0 &amp;&amp; cnt2 == 0 &amp;&amp; cnt0 != 0)<br>        {<br>            printf(“Case %d: J\n”,iCase);<br>            continue;<br>        }<br>        bool canwin = false;<br>        bool candraw = false;<br>        //对M进行分析<br>        //第一次选余数为1的<br>        if(cnt1)<br>        {<br>            if(cnt1-1 == cnt2 || cnt1-1 == cnt2+1)<br>            {<br>                candraw = true;<br>            }<br>            else<br>            {<br>                if(cnt1-1 &lt; cnt2)<br>                {<br>                    if(cnt0%2 == 0)<br>                        canwin = true;<br>                }<br>                else<br>                {<br>                    if(cnt0%2 == 1)<br>                        canwin = true;<br>                }<br>            }<br>        }<br>        if(cnt2)<br>        {<br>            if(cnt2-1 == cnt1 || cnt2-1 == cnt1+1)<br>                candraw = true;<br>            else<br>            {<br>                if(cnt2-1 &lt; cnt1)<br>                {<br>                    if(cnt0%2 == 0)<br>                        canwin = true;<br>                }<br>                else<br>                {<br>                    if(cnt0%2 == 1)<br>                        canwin = true;<br>                }<br>            }<br>        }<br>        if(canwin)printf(“Case %d: M\n”,iCase);<br>        else if(candraw)printf(“Case %d: Draw\n”,iCase);<br>        else printf(“Case %d: J\n”,iCase);<br>    }<br>    return 0;<br>}</p>
<p>  C:</p>
<h3 id="Game-of-Throne"><a href="#Game-of-Throne" class="headerlink" title="Game of Throne"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4663&amp;mosmsg=Submission+received+with+ID+1481172" target="_blank" rel="noopener">Game of Throne</a></h3><p>很好的一道题。 主要是转化建模的过程。 N个点的图。每条边有权值。 需要求一个子图。 1~K个点度数为奇数， K+1~N需要度数为偶数。 求子图的最小权值和。   先floyed 一遍，求出两两之间的最短路径。 这样其实就是一个完全图。 度数为偶数的可以不管。 直接看度数为奇数的。 其实就是需要前K个点两两匹配，求最小权值和。 变成了一般图的最小加权匹配。   套一发模板就可以了。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/9 19:18:06<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\C2.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>//一般图的最大加权匹配模板<br>//注意G的初始化,需要偶数个点，刚好可以形成n/2个匹配<br>//如果要求最小权匹配，可以取相反数，或者稍加修改就可以了<br>//点的编号从0开始的<br>const int MAXN = 110;<br>const int INF = 0x3f3f3f3f;<br>int G[MAXN][MAXN];<br>int cnt_node;//点的个数<br>int dis[MAXN];<br>int match[MAXN];<br>bool vis[MAXN];<br>int sta[MAXN],top;//堆栈<br>bool dfs(int u)<br>{<br>    sta[top++] = u;<br>    if(vis[u])return true;<br>    vis[u] = true;<br>    for(int i = 0;i &lt; cnt_node;i++)<br>        if(i != u &amp;&amp; i != match[u] &amp;&amp; !vis[i])<br>        {<br>            int t = match[i];<br>            if(dis[t] &lt; dis[u] + G[u][i] - G[i][t])<br>            {<br>                dis[t] = dis[u] + G[u][i] - G[i][t];<br>                if(dfs(t))return true;<br>            }<br>        }<br>    top–;<br>    vis[u] = false;<br>    return false;<br>}<br>int P[MAXN];<br>int get_Match(int N)//返回最大匹配权值<br>{<br>    cnt_node = N;<br>    for(int i = 0;i &lt; cnt_node;i++)P[i] = i;<br>    for(int i = 0;i &lt; cnt_node;i += 2)<br>    {<br>        match[i] = i+1;<br>        match[i+1] = i;<br>    }<br>    int cnt = 0;<br>    while(1)<br>    {<br>        memset(dis,0,sizeof(dis));<br>        memset(vis,false,sizeof(vis));<br>        top = 0;<br>        bool update = false;<br>        for(int i = 0;i &lt; cnt_node;i++)<br>            if(dfs(P[i]))<br>            {<br>                update = true;<br>                int tmp = match[sta[top-1]];<br>                int j = top-2;<br>                while(sta[j] != sta[top-1])<br>                {<br>                    match[tmp] = sta[j];<br>                    swap(tmp,match[sta[j]]);<br>                    j–;<br>                }<br>                match[tmp] = sta[j];<br>                match[sta[j]] = tmp;<br>                break;<br>            }<br>        if(!update)<br>        {<br>            cnt++;<br>            if(cnt &gt;= 3)break;<br>            random_shuffle(P,P+cnt_node);<br>        }<br>    }<br>    int ans = 0;<br>    for(int i = 0;i &lt; cnt_node;i++)<br>    {<br>        int v = match[i];<br>        if(i &lt; v)ans += G[i][v];<br>    }<br>    return ans;<br>}<br>int g[MAXN][MAXN];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int iCase = 0;<br>    int n,m,K;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        iCase++;<br>        scanf(“%d%d%d”,&amp;n,&amp;m,&amp;K);<br>        for(int i = 0;i &lt; n;i++)<br>            for(int j = 0;j &lt; n;j++)<br>            {<br>                if(i == j)g[i][j] = 0;<br>                else g[i][j] = INF;<br>            }<br>        int u,v,w;<br>        while(m–)<br>        {<br>            scanf(“%d%d%d”,&amp;u,&amp;v,&amp;w);<br>            u–;<br>            v–;<br>            g[u][v] = g[v][u] = min(g[u][v],w);<br>        }<br>        if(K&amp;1)<br>        {<br>            printf(“Case %d: Impossible\n”,iCase);<br>            continue;<br>        }<br>        for(int k = 0;k &lt; n;k++)<br>            for(int i = 0;i &lt; n;i++)<br>                for(int j = 0;j &lt; n;j++)<br>                    g[i][j] = min(g[i][j],g[i][k]+g[k][j]);<br>        for(int i = 0;i &lt; K;i++)<br>            for(int j = 0;j &lt; K;j++)<br>                G[i][j] = -g[i][j];<br>        printf(“Case %d: %d\n”,iCase,-get_Match(K));<br>    }<br>    return 0;<br>}</p>
<p>  D:</p>
<h3 id="Pattern-Locker"><a href="#Pattern-Locker" class="headerlink" title="Pattern Locker"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=&amp;problem=4664&amp;mosmsg=Submission+received+with+ID+1481252" target="_blank" rel="noopener">Pattern Locker</a></h3><p>水题，不多说，直接乘起来加起来就解决了</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/9 22:21:58<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\D.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const long long MOD = 1e13+7;</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int iCase = 0;<br>    int L,N,M;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        iCase++;<br>        scanf(“%d%d%d”,&amp;L,&amp;M,&amp;N);<br>        long long ans = 0;<br>        long long tmp = 1;<br>        for(int i = 1;i &lt;= N;i++)<br>        {<br>            tmp = tmp<em>(L</em>L-i+1)%MOD;<br>            if(i &gt;= M)<br>                ans = (ans+tmp)%MOD;<br>        }<br>        printf(“Case %d: %lld\n”,iCase,ans);<br>    }<br>    return 0;<br>}</p>
<pre><code>F:
</code></pre><h3 id="Two-Points-Revisited"><a href="#Two-Points-Revisited" class="headerlink" title="Two Points Revisited"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=594&amp;page=show_problem&amp;problem=4667" target="_blank" rel="noopener">Two Points Revisited</a></h3><p>水题。简单构造就可以了，保证垂直。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/10 17:54:54<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\F.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int x1,y1,x2,y2;<br>    scanf(“%d”,&amp;T);<br>    int iCase = 0;<br>    while(T–)<br>    {<br>        iCase++;<br>        scanf(“%d%d%d%d”,&amp;x1,&amp;y1,&amp;x2,&amp;y2);<br>        printf(“Case %d: %d %d %d %d\n”,iCase,y2,x1,y1,x2);<br>    }<br>    return 0;<br>}</p>
<p>  G:</p>
<h3 id="Watching-the-Kangaroo"><a href="#Watching-the-Kangaroo" class="headerlink" title="Watching the Kangaroo"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=594&amp;page=show_problem&amp;problem=4668" target="_blank" rel="noopener">Watching the Kangaroo</a></h3><p>胡乱搞一下就可以了。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/10 18:13:29<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\G.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 100010;<br>struct Node<br>{<br>    int x,index;<br>}node[MAXN];<br>bool cmp(Node a,Node b)<br>{<br>    return a.x &lt; b.x;<br>}<br>int M;<br>vector<int>avec[MAXN];<br>vector<int>dvec[MAXN];</int></int></p>
<p>void gao(int L,int R,int val)<br>{<br>    int id,l,r;<br>    id = -1;<br>    l = 0; r = M-1;<br>    while(l &lt;= r)<br>    {<br>        int mid = (l+r)/2;<br>        if(node[mid].x &gt;= L)<br>        {<br>            r = mid-1;<br>            id = mid;<br>        }<br>        else l = mid+1;<br>    }<br>    if(id != -1 &amp;&amp; node[id].x &lt;= R)<br>    {<br>        avec[id].push_back(val);<br>        id = -1;<br>        l = 0;r = M-1;<br>        while(l &lt;= r)<br>        {<br>            int mid = (l+r)/2;<br>            if(node[mid].x &lt;= R)<br>            {<br>                l = mid+1;<br>                id = mid;<br>            }<br>            else r = mid-1;<br>        }<br>        if(id != -1)<br>            dvec[id].push_back(val);<br>    }<br>}<br>int ans[MAXN];<br>int L[MAXN],R[MAXN];;<br>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int N,T;<br>    int iCase = 0;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        iCase++;<br>        printf(“Case %d:\n”,iCase);<br>        scanf(“%d%d”,&amp;N,&amp;M);<br>        for(int i = 0;i &lt; N;i++)<br>            scanf(“%d%d”,&amp;L[i],&amp;R[i]);<br>        for(int i = 0;i &lt; M;i++)<br>        {<br>            scanf(“%d”,&amp;node[i].x);<br>            node[i].index = i;<br>        }<br>        sort(node,node+M,cmp);<br>        for(int i = 0;i &lt; N;i++)<br>        {<br>            gao(L[i],(L[i]+R[i])/2,L[i]);<br>            gao((L[i]+R[i]+1)/2,R[i],R[i]);<br>        }<br>        multiset<int>mt;<br>        multiset<int>::iterator it;<br>        for(int i = 0;i &lt; M;i++)<br>        {<br>            int sz = avec[i].size();<br>            for(int j = 0;j &lt; sz;j++)<br>                mt.insert(avec[i][j]);<br>            ans[node[i].index] = 0;<br>            if(!mt.empty())<br>            {<br>                it = mt.begin();<br>                ans[node[i].index] = max(ans[node[i].index],node[i].x-(<em>it));<br>                it = mt.end();<br>                it–;<br>                ans[node[i].index] = max(ans[node[i].index],(</em>it)-node[i].x);<br>            }<br>            sz = dvec[i].size();<br>            for(int j = 0;j &lt; sz;j++)<br>            {<br>                it = mt.find(dvec[i][j]);<br>                mt.erase(it);<br>            }<br>        }<br>        for(int i = 0;i &lt; M;i++)<br>            printf(“%d\n”,ans[i]);<br>        for(int i = 0;i &lt; M;i++)<br>        {<br>            avec[i].resize(0);<br>            dvec[i].resize(0);<br>        }<br>    }<br>    return 0;<br>}</int></int></p>
<p>H:</p>
<h3 id="GCD-XOR"><a href="#GCD-XOR" class="headerlink" title="GCD XOR"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4669&amp;mosmsg=Submission+received+with+ID+1481998" target="_blank" rel="noopener">GCD XOR</a></h3><p>求gcd(A,B) == A^B  1&lt;=B&lt;=A&lt;=N 的对数 首先需要明白的是  如果A^B = tmp的话，那么A,B的差值是不会超过tmp, 这个从二进制很容易想通。 那么如果A,B的gcd为 i,  也就是A,B都是i的倍数。如果 i == A^B  那么A,B的差值只能是i   所以枚举gcd, 假如为i,   那么去判断  j*i 和 (j-1)*i 是不是符合条件。而且 gcd(j*i,(j-1)*i) 一定是i 的，不要再求了。 很容易进行预处理了。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/10 18:55:32<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\H.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 30000000;<br>int f[MAXN+10];<br>void init()<br>{<br>    memset(f,0,sizeof(f));<br>    for(int i = 1;i &lt;= MAXN;i++)<br>    {<br>        for(int j = i+i;j &lt;= MAXN;j+=i)<br>            if( (j^(j-i)) == i )<br>                f[j]++;<br>    }<br>    for(int i = 1;i &lt;= MAXN;i++)<br>        f[i] += f[i-1];<br>}</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n;<br>    int iCase = 0;<br>    scanf(“%d”,&amp;T);<br>    init();<br>    while(T–)<br>    {<br>        iCase++;<br>        scanf(“%d”,&amp;n);<br>        printf(“Case %d: %d\n”,iCase,f[n]);<br>    }<br>    return 0;<br>}</p>
<p>  I：</p>
<h3 id="Fiasco"><a href="#Fiasco" class="headerlink" title="Fiasco"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4670&amp;mosmsg=Submission+received+with+ID+1483344" target="_blank" rel="noopener">Fiasco</a></h3><p>按照bfs顺序从小到大去分配边。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/13 17:00:43<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\I.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 2510;<br>const int MAXM = 50010;<br>struct Edge<br>{<br>    int to,next;<br>    int index;<br>}edge[MAXM];<br>int head[MAXN],tot;<br>void init()<br>{<br>    tot = 0;<br>    memset(head,-1,sizeof(head));<br>}<br>void addedge(int u,int v,int index)<br>{<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    edge[tot].index = index;<br>    head[u] = tot++;<br>}</p>
<p>int ST[MAXM],ED[MAXM],W[MAXM];<br>int ans[MAXM];<br>bool used[MAXN];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    scanf(“%d”,&amp;T);<br>    int n,m,start;<br>    int iCase = 0;<br>    while(T–)<br>    {<br>        iCase++;<br>        printf(“Case %d:\n”,iCase);<br>        init();<br>        scanf(“%d%d%d”,&amp;n,&amp;m,&amp;start);<br>        for(int i = 0;i &lt; m;i++)<br>        {<br>            scanf(“%d%d%d”,&amp;ST[i],&amp;ED[i],&amp;W[i]);<br>            addedge(ST[i],ED[i],i);<br>            addedge(ED[i],ST[i],i);<br>        }<br>        sort(W,W+m);<br>        queue<int>q;<br>        q.push(start);<br>        memset(used,false,sizeof(used));<br>        memset(ans,-1,sizeof(ans));<br>        used[start] = true;<br>        int id = 0;<br>        while(!q.empty())<br>        {<br>            int u = q.front();<br>            q.pop();<br>            for(int i = head[u];i != -1;i = edge[i].next)<br>            {<br>                int v = edge[i].to;<br>                if(used[v])continue;<br>                used[v] = true;<br>                q.push(v);<br>                ans[edge[i].index] = W[id++];<br>            }<br>        }<br>        for(int i = 0;i &lt; m;i++)<br>            if(ans[i] == -1)<br>                ans[i] = W[id++];<br>        for(int i = 0;i &lt; m;i++)<br>            printf(“%d %d %d\n”,ST[i],ED[i],ans[i]);<br>    }<br>    return 0;<br>}</int></p>
<p>  J:</p>
<h3 id="Dromicpalin-Substrings"><a href="#Dromicpalin-Substrings" class="headerlink" title=" Dromicpalin Substrings"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=594&amp;problem=4671&amp;mosmsg=Submission+received+with+ID+1483359" target="_blank" rel="noopener"> Dromicpalin Substrings</a></h3><p>直接暴力，统计出现次数。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/13 19:54:49<br>File Name     :E:\2014ACM\区域赛练习\2013\2013Dhaka\J.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>char str[1010];<br>int cnt[26];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int iCase = 0;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        iCase++;<br>        scanf(“%s”,str);<br>        int n = strlen(str);<br>        int ans = 0;<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            memset(cnt,0,sizeof(cnt));<br>            int odd = 0, even = 26;<br>            for(int j = i;j &lt; n;j++)<br>            {<br>                if(cnt[str[j]-‘a’]&amp;1)<br>                {<br>                    odd–;<br>                    even++;<br>                }<br>                else<br>                {<br>                    odd++;<br>                    even–;<br>                }<br>                cnt[str[j]-‘a’]++;<br>                if(odd &lt;= 1)ans++;<br>            }<br>        }<br>        printf(“Case %d: %d\n”,iCase,ans);<br>    }<br>    return 0;<br>}</p>
<p>  K:</p>
<h3 id="Fill-the-Cuboid"><a href="#Fill-the-Cuboid" class="headerlink" title="Fill the Cuboid"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=4672" target="_blank" rel="noopener">Fill the Cuboid</a></h3><p>直接就是DLX的题目。 直接爆搞会T。 但是要把1*1*1的立方体排除掉。然后数量就不多了。</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include <algorithm></algorithm></p>
<p>#include <iostream></iostream></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include &lt;string.h&gt;</p>
<p>#include <map></map></p>
<p>#include <vector></vector></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;<br>using namespace std;</p>
<p>const int MaxN = 150<em>300;<br>const int MaxM = 200;<br>const int maxnode = MaxN</em>MaxM + 10000;<br>bool used[200];<br>int CubeSize[MaxN];<br>struct DLX<br>{<br>    int n,m,size;<br>    int U[maxnode],D[maxnode],R[maxnode],L[maxnode],Row[maxnode],Col[maxnode];<br>    int H[MaxN],S[MaxM];<br>    void init(int _n,int _m)<br>    {<br>        n = _n;<br>        m = _m;<br>        for(int i = 0;i &lt;= m;i++)<br>        {<br>            S[i] = 0;<br>            U[i] = D[i] = i;<br>            L[i] = i-1;<br>            R[i] = i+1;<br>        }<br>        R[m] = 0; L[0] = m;<br>        size = m;<br>        for(int i = 1;i &lt;= n;i++)H[i] = -1;<br>    }<br>    void Link(int r,int c)<br>    {<br>        ++S[Col[++size]=c];<br>        Row[size] = r;<br>        D[size] = D[c];<br>        U[D[c]] = size;<br>        U[size] = c;<br>        D[c] = size;<br>        if(H[r] &lt; 0)H[r] = L[size] = R[size] = size;<br>        else<br>        {<br>            R[size] = R[H[r]];<br>            L[R[H[r]]] = size;<br>            L[size] = H[r];<br>            R[H[r]] = size;<br>        }<br>    }<br>    void remove(int c)<br>    {<br>        L[R[c]] = L[c]; R[L[c]] = R[c];<br>        for(int i = D[c];i != c;i = D[i])<br>            for(int j = R[i];j != i;j = R[j])<br>            {<br>                U[D[j]] = U[j];<br>                D[U[j]] = D[j];<br>                –S[Col[j]];<br>            }<br>    }<br>    void resume(int c)<br>    {<br>        for(int i = U[c];i != c;i = U[i])<br>            for(int j = L[i];j != i;j = L[j])<br>                ++S[Col[U[D[j]]=D[U[j]]=j]];<br>        L[R[c]] = R[L[c]] = c;<br>    }<br>    void  Dance(int d,int sum)<br>    {<br>        used[d+sum] = true;<br>        if(R[0] == 0)<br>        {<br>            return ;<br>        }<br>        int c = R[0];<br>        for(int i = R[0];i != 0;i = R[i])<br>        {<br>            if(S[i] &gt; S[c])<br>                c = i;<br>        }<br>        remove(c);<br>        for(int i = D[c];i != c;i = D[i])<br>        {<br>            if(CubeSize[Row[i]] == 1)continue;<br>            for(int j = R[i];j != i;j = R[j])remove(Col[j]);<br>            Dance(d+1,sum-CubeSize[Row[i]]);<br>            for(int j = L[i];j != i;j = L[j])resume(Col[j]);<br>        }<br>        resume(c);<br>    }<br>};<br>DLX dlx;</p>
<p>bool g[22][22][22];<br>int id[22][22][22];<br>vector<int>vec[MaxN];</int></p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int a,b,c,m;<br>    int iCase = 0;<br>    while(scanf(“%d%d%d%d”,&amp;a,&amp;b,&amp;c,&amp;m) == 4)<br>    {<br>        if(a == 0 &amp;&amp; b == 0 &amp;&amp; c == 0 &amp;&amp; m == 0)break;<br>        iCase++;<br>        memset(g,0,sizeof(g));<br>        int x,y,z;<br>        while(m–)<br>        {<br>            scanf(“%d%d%d”,&amp;x,&amp;y,&amp;z);<br>            g[x][y][z] = true;<br>        }<br>        int m = 0;<br>        for(int i = 1;i &lt;= a;i++)<br>            for(int j = 1;j &lt;= b;j++)<br>                for(int k = 1;k &lt;= c;k++)<br>                    if(!g[i][j][k])<br>                    {<br>                        m++;<br>                        id[i][j][k] = m;<br>                    }<br>        int n = 0;<br>        for(int i = 1;i &lt;= a;i++)<br>            for(int j = 1;j &lt;= b;j++)<br>                for(int k = 1;k &lt;= c;k++)<br>                    if(!g[i][j][k])<br>                    {<br>                        for(int d = 1;;d++)<br>                        {<br>                            if(i+d-1 &gt; a || j+d-1 &gt; b || k+d-1 &gt; c)break;<br>                            bool flag = true;<br>                            for(int u = i;u &lt;= i+d-1;u++)<br>                                for(int v = j;v &lt;= j+d-1;v++)<br>                                    for(int w = k;w &lt;= k+d-1;w++)<br>                                    {<br>                                        if(g[u][v][w])<br>                                        {<br>                                            flag = false;<br>                                            break;<br>                                        }<br>                                    }<br>                            if(!flag)break;<br>                            n++;<br>                            CubeSize[n] = d*d*d;<br>                            for(int u = i;u &lt;= i+d-1;u++)<br>                                for(int v = j;v &lt;= j+d-1;v++)<br>                                    for(int w = k;w &lt;= k+d-1;w++)<br>                                        vec[n].push_back(id[u][v][w]);</p>
<pre><code>                    }
                }
    dlx.init(n,m);
    for(int i = 1;i &lt;= n;i++)
    {
        int sz = vec\[i\].size();
        for(int j = 0 ;j &lt; sz;j++)
            dlx.Link(i,vec\[i\]\[j\]);
    }
    memset(used,false,sizeof(used));
    dlx.Dance(0,m);
    printf(&quot;Case %d:&quot;,iCase);
    for(int i = 0;i &lt; 200;i++)
        if(used\[i\])
            printf(&quot; %d&quot;,i);
    printf(&quot;\\n&quot;);
    for(int i = 1;i &lt;= n;i++)
        vec\[i\].resize(0);
}
return 0;
</code></pre><p>}</p>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/09/lucas-theorem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/09/lucas-theorem/" itemprop="url">
                  Lucas定理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-09 23:30:00" itemprop="dateCreated datePublished" datetime="2014-07-09T23:30:00+08:00">2014-07-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 13:43:28" itemprop="dateModified" datetime="2018-07-29T13:43:28+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/" itemprop="url" rel="index"><span itemprop="name">HDU</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/Lucas/" itemprop="url" rel="index"><span itemprop="name">Lucas</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/HDU/Lucas/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Lucas可以解决组合数求模的问题。"><a href="#Lucas可以解决组合数求模的问题。" class="headerlink" title="Lucas可以解决组合数求模的问题。"></a>Lucas可以解决组合数求模的问题。</h2><h2 id="当要求的组合数比较大，而且对一个素数取模时。"><a href="#当要求的组合数比较大，而且对一个素数取模时。" class="headerlink" title="当要求的组合数比较大，而且对一个素数取模时。"></a>当要求的组合数比较大，而且对一个素数取模时。</h2><h2 id="普通的递推或者逆元的方法都不适用了。只能借助于Lucas定理。"><a href="#普通的递推或者逆元的方法都不适用了。只能借助于Lucas定理。" class="headerlink" title="普通的递推或者逆元的方法都不适用了。只能借助于Lucas定理。"></a>普通的递推或者逆元的方法都不适用了。只能借助于Lucas定理。</h2><h2 id="C-n-m-p"><a href="#C-n-m-p" class="headerlink" title="\[C_{n}^{m} \% p \]"></a>\[C_{n}^{m} \% p \]</h2><p>\[ C(n,m)=C([n/p],[m/p]) * C(n\%p,m\%p)  (mod p) \] 具体证明，网上很多版本，就不给出了。     <a href="http://acm.hdu.edu.cn/showproblem.php?pid=3037" target="_blank" rel="noopener">HDU3037</a> 模板题。   m个要分给n个树。 树是不一样的。加一个空的，表示不放的。 将不大于m颗种子存放在n颗树中，问有多少种存法。 这样就是 \( x_{1} + x{2} + …… + x_{n+1} = m  \) 的非负整数解个数。 答案就是 C(n+m,n)</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/9 23:18:55<br>File Name     :E:\2014ACM\专题学习\数学\Lucas定理\HDU3037.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>long long F[100010];<br>void init(long long p)<br>{<br>    F[0] = 1;<br>    for(int i = 1;i &lt;= p;i++)<br>        F[i] = F[i-1]<em>i%p;<br>}<br>long long inv(long long a,long long m)<br>{<br>    if(a == 1)return 1;<br>    return inv(m%a,m)</em>(m-m/a)%m;<br>}<br>long long Lucas(long long n,long long m,long long p)<br>{<br>    long long ans = 1;<br>    while(n&amp;&amp;m)<br>    {<br>        long long a = n%p;<br>        long long b = m%p;<br>        if(a &lt; b)return 0;<br>        ans = ans*F[a]%p*inv(F[b]*F[a-b]%p,p)%p;<br>        n /= p;<br>        m /= p;<br>    }<br>    return ans;<br>}</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n,m,p;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d%d%d”,&amp;n,&amp;m,&amp;p);<br>        init(p);<br>        printf(“%d\n”,(int)Lucas(n+m,n,p));<br>    }<br>    return 0;<br>}</p>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/05/acdream15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/05/acdream15/" itemprop="url">
                  ACdream原创群赛(15)の每题10s多开心  非官方题解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-05 00:01:59" itemprop="dateCreated datePublished" datetime="2014-07-05T00:01:59+08:00">2014-07-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 20:39:52" itemprop="dateModified" datetime="2018-07-29T20:39:52+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/比赛/" itemprop="url" rel="index"><span itemprop="name">比赛</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Link-：-ACdream"><a href="#Link-：-ACdream" class="headerlink" title="Link ： ACdream"></a>Link ： <a href="http://acdream.info/onecontest/1044#overview" target="_blank" rel="noopener">ACdream</a></h3><p>2014年7月4日，ACdream群赛简单题解。 5道是本弱出的，5道是适牛出的。 写个简单的题解。 具体题解见适牛的详细版！     </p>
<p>A：</p>
<h3 id="喵喵的数字"><a href="#喵喵的数字" class="headerlink" title="喵喵的数字"></a>喵喵的数字</h3><p>我的做法就是数位DP 数位DP可以求， &lt;=n 里面，二进制1的个数有num个的有多少个，以及他们的和。   然后num从小到大去变化。  然后二分就可以找出第M个数是什么，和也知道了。  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/30 21:44:09</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\数字.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>+<span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp1[<span class="number">100</span>][<span class="number">100</span>],dp2[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> bit[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> two[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>,<span class="keyword">long</span> <span class="keyword">long</span>&gt; dfs(<span class="keyword">int</span> pos,<span class="keyword">int</span> num,<span class="keyword">bool</span> flag)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(pos == <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(num == <span class="number">0</span>)<span class="keyword">return</span> make_pair(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> make_pair(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(num &lt; <span class="number">0</span>)<span class="keyword">return</span> make_pair(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(!flag &amp;&amp; dp1[pos][num] != <span class="number">-1</span>)<span class="keyword">return</span> make_pair(dp1[pos][num],dp2[pos][num]);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ans1 = <span class="number">0</span>, ans2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> end = flag?bit[pos]:<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>,<span class="keyword">long</span> <span class="keyword">long</span>&gt;tmp;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= end;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		tmp = dfs(pos<span class="number">-1</span>,i==<span class="number">1</span>?num<span class="number">-1</span>:num,flag&amp;&amp;i==end);</span><br><span class="line"></span><br><span class="line">		ans1 += tmp.first;</span><br><span class="line"></span><br><span class="line">		ans2 += (i*tmp.first%MOD*(two[pos]%MOD)%MOD + tmp.second)%MOD;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(ans2 &gt;= MOD)ans2 -= MOD;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(!flag)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		dp1[pos][num] = ans1;</span><br><span class="line"></span><br><span class="line">		dp2[pos][num] = ans2;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> make_pair(ans1,ans2);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>,<span class="keyword">long</span> <span class="keyword">long</span>&gt; solve(<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">int</span> num)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		bit[cnt++] = n&amp;<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(n);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> dfs(cnt<span class="number">-1</span>,num,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="keyword">long</span> <span class="keyword">long</span>,<span class="keyword">long</span> <span class="keyword">long</span>&gt;p;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(dp1,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp1));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(dp2,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp2));</span><br><span class="line"></span><br><span class="line">	two[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; <span class="number">63</span>;i++)</span><br><span class="line"></span><br><span class="line">		two[i] = <span class="number">2</span>*two[i<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> n,m;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;n,&amp;m);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> ans1;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> ans2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		m++;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">63</span>;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			p = solve(n,i);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(cnt + p.first &lt; m)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				cnt += p.first;</span><br><span class="line"></span><br><span class="line">				ans2 = (ans2 + p.second)%MOD;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> l = <span class="number">0</span>, r = n;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span>(l &lt;= r)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">long</span> <span class="keyword">long</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">				p = solve(mid,i);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(cnt + p.first &gt;= m)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					ans1 = mid;</span><br><span class="line"></span><br><span class="line">					r = mid<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">					l = mid+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			p = solve(ans1,i);</span><br><span class="line"></span><br><span class="line">			ans2 = (ans2 + p.second)%MOD;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%lld %lld\n"</span>,ans1,ans2);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  B：</p>
<h3 id="Rankings"><a href="#Rankings" class="headerlink" title="Rankings"></a>Rankings</h3><p>  DP。 填坑法DP。 用dp[i][j] 表示 前i个里面，出来j个， 但是坑的数量不是j的，需要差值去算。 有明确位置的点，要去除，被占的也去除。 DP直接转移就可以了。 dp[n][0]就是答案。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/18 17:05:27</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\Rankings\std.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">2014</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> index;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> dx;</span><br><span class="line"></span><br><span class="line">&#125;node[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a.index &lt;  b.index;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getnext</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line"></span><br><span class="line">	ch = getchar();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(ch != <span class="string">'-'</span> &amp;&amp; ch != <span class="string">'+'</span> &amp;&amp; (ch &lt; <span class="string">'0'</span> || ch &gt;<span class="string">'9'</span>))</span><br><span class="line"></span><br><span class="line">		ch = getchar();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(ch == <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		ch = getchar();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> -INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ret = ch - <span class="string">'0'</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(ch = getchar(), ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line"></span><br><span class="line">			ret = ret*<span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> -ret;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(ch == <span class="string">'+'</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		ch = getchar();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ret = ch - <span class="string">'0'</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(ch = getchar(), ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line"></span><br><span class="line">			ret = ret*<span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ret = ch - <span class="string">'0'</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(ch = getchar(), ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line"></span><br><span class="line">			ret = ret*<span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> loc[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> &amp;a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	a += b;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(a &gt;= MOD)a -= MOD;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[MAXN][MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> f[MAXN][MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num1[MAXN],num2[MAXN];<span class="comment">//坑和可以提供的</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("5.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("5.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> iCase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		iCase++;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;node[i].index);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)node[i].dx = getnext();</span><br><span class="line"></span><br><span class="line">		sort(node,node+n,cmp);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(loc,<span class="number">0</span>,<span class="keyword">sizeof</span>(loc));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(node[i].dx == INF || node[i].dx == -INF)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> nn = node[i].index + node[i].dx;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(nn &lt;= <span class="number">0</span> || nn &gt; n)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			loc[nn]++;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(loc[nn] &gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!flag)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"IMPOSSIBLE\n"</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		num1[<span class="number">0</span>] = num2[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			num1[i] = num1[i<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(loc[i] == <span class="number">0</span>)num1[i]++;</span><br><span class="line"></span><br><span class="line">			num2[i] = num2[i<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(node[i<span class="number">-1</span>].dx == INF || node[i<span class="number">-1</span>].dx == -INF)</span><br><span class="line"></span><br><span class="line">				num2[i]++;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line"></span><br><span class="line">		dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(f,<span class="literal">false</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line"></span><br><span class="line">		f[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= n;j++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(!f[i][j])<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(node[i].dx == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					Add(dp[i+<span class="number">1</span>][j],dp[i][j]);</span><br><span class="line"></span><br><span class="line">					f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">int</span> kj = j + (num1[i]-num2[i]);<span class="comment">//坑的数量</span></span><br><span class="line"></span><br><span class="line">				assert(kj&gt;=<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">				<span class="comment">//cout&lt;&lt;kj&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(node[i].dx != INF &amp;&amp; node[i].dx != -INF)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(loc[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						Add(dp[i+<span class="number">1</span>][j],dp[i][j]);</span><br><span class="line"></span><br><span class="line">						f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						Add(dp[i+<span class="number">1</span>][j],dp[i][j]);</span><br><span class="line"></span><br><span class="line">						f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(j)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							Add(dp[i+<span class="number">1</span>][j<span class="number">-1</span>],(<span class="keyword">long</span> <span class="keyword">long</span>)dp[i][j]*j%MOD);</span><br><span class="line"></span><br><span class="line">							f[i+<span class="number">1</span>][j<span class="number">-1</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(node[i].dx == INF)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(loc[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						Add(dp[i+<span class="number">1</span>][j+<span class="number">1</span>],dp[i][j]);</span><br><span class="line"></span><br><span class="line">						f[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						Add(dp[i+<span class="number">1</span>][j+<span class="number">1</span>],dp[i][j]);</span><br><span class="line"></span><br><span class="line">						f[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(j)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							Add(dp[i+<span class="number">1</span>][j],(<span class="keyword">long</span> <span class="keyword">long</span>)dp[i][j]*j%MOD);</span><br><span class="line"></span><br><span class="line">							f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(loc[i+<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(kj)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							Add(dp[i+<span class="number">1</span>][j],(<span class="keyword">long</span> <span class="keyword">long</span>)dp[i][j]*kj%MOD);</span><br><span class="line"></span><br><span class="line">							f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">					&#123;</span><br><span class="line"></span><br><span class="line">						<span class="keyword">if</span>(kj)</span><br><span class="line"></span><br><span class="line">						&#123;</span><br><span class="line"></span><br><span class="line">							Add(dp[i+<span class="number">1</span>][j],(<span class="keyword">long</span> <span class="keyword">long</span>)dp[i][j]*kj%MOD);</span><br><span class="line"></span><br><span class="line">							f[i+<span class="number">1</span>][j] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">if</span>(j)</span><br><span class="line"></span><br><span class="line">							&#123;</span><br><span class="line"></span><br><span class="line">								Add(dp[i+<span class="number">1</span>][j<span class="number">-1</span>],(<span class="keyword">long</span> <span class="keyword">long</span>)dp[i][j]*kj*j%MOD);</span><br><span class="line"></span><br><span class="line">								f[i+<span class="number">1</span>][j<span class="number">-1</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">							&#125;</span><br><span class="line"></span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!f[n][<span class="number">0</span>])<span class="built_in">printf</span>(<span class="string">"IMPOSSIBLE\n"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  C：</p>
<h3 id="喵喵去寻宝"><a href="#喵喵去寻宝" class="headerlink" title="喵喵去寻宝"></a>喵喵去寻宝</h3><p>  董壕的神几何。 我是用求积分的方法算的，精度误差比较大，我要1e-3的误差才能过。 我就是吧五角星变成10条有向线段。 线段和抛物线求面积。 求交点，然后解析法求积分。 图就不画了，画起来麻烦。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/1 22:36:20</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\xunbao.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算几何模板</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf = <span class="number">1e20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = pi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxp = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Compares a double to zero</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">fabs</span>(x) &lt; eps)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(x &lt; <span class="number">0</span>)<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//square of a double</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">sqr</span><span class="params">(<span class="keyword">double</span> x)</span></span>&#123;<span class="keyword">return</span> x*x;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Point</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Point()               - Empty constructor</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Point(double _x,double _y)  - constructor</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * input()             - double input</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * output()            - %.2f output</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator ==         - compares x and y</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator &lt;          - compares first by x, then by y</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator -          - return new Point after subtracting curresponging x and y</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator ^          - cross product of 2d points</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator *          - dot product</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * len()               - gives length from origin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * len2()              - gives square of length from origin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * distance(Point p)   - gives distance from p</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator + Point b  - returns new Point after adding curresponging x and y</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator * double k - returns new Point after multiplieing x and y by k</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator / double k - returns new Point after divideing x and y by k</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * rad(Point a,Point b)- returns the angle of Point a and Point b from this Point</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * trunc(double r)     - return Point that if truncated the distance from center to r</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * rotleft()           - returns 90 degree ccw rotated point</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * rotright()          - returns 90 degree cw rotated point</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * rotate(Point p,double angle) - returns Point after rotateing the Point centering at p by angle radian ccw</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> x,y;</span><br><span class="line"></span><br><span class="line">	Point()&#123;&#125;</span><br><span class="line"></span><br><span class="line">	Point(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		x = _x;</span><br><span class="line"></span><br><span class="line">		y = _y;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.2f %.2f\n"</span>,x,y);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> == (Point b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> sgn(x-b.x) == <span class="number">0</span> &amp;&amp; sgn(y-b.y) == <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (Point b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> sgn(x-b.x)== <span class="number">0</span>?sgn(y-b.y)&lt;<span class="number">0</span>:x&lt;b.x;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Point <span class="keyword">operator</span> -(<span class="keyword">const</span> Point &amp;b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> Point(x-b.x,y-b.y);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//叉积</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> <span class="keyword">operator</span> ^(<span class="keyword">const</span> Point &amp;b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> x*b.y - y*b.x;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//点积</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> <span class="keyword">operator</span> *(<span class="keyword">const</span> Point &amp;b)<span class="keyword">const</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> x*b.x + y*b.y;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//绕着p点逆时针旋转angle</span></span><br><span class="line"></span><br><span class="line">	<span class="function">Point <span class="title">rotate</span><span class="params">(Point p,<span class="keyword">double</span> angle)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		Point v = (*<span class="keyword">this</span>) - p;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> c = <span class="built_in">cos</span>(angle), s = <span class="built_in">sin</span>(angle);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> Point(p.x + v.x*c - v.y*s,p.y + v.x*s + v.y*c);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Stores two points</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Line()                         - Empty constructor</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Line(Point _s,Point _e)        - Line through _s and _e</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * operator ==                    - checks if two points are same</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Line(Point p,double angle)     - one end p , another end at angle degree</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * Line(double a,double b,double c) - Line of equation ax + by + c = 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * input()                        - inputs s and e</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * adjust()                       - orders in such a way that s &lt; e</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * length()                       - distance of se</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * angle()                        - return 0 &lt;= angle &lt; pi</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * relation(Point p)              - 3 if point is on line</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  1 if point on the left of line</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  2 if point on the right of line</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * pointonseg(double p)           - return true if point on segment</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * parallel(Line v)               - return true if they are parallel</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * segcrossseg(Line v)            - returns 0 if does not intersect</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  returns 1 if non-standard intersection</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  returns 2 if intersects</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * linecrossseg(Line v)           - line and seg</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * linecrossline(Line v)          - 0 if parallel</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  1 if coincides</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *                                  2 if intersects</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * crosspoint(Line v)             - returns intersection point</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * dispointtoline(Point p)        - distance from point p to the line</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * dispointtoseg(Point p)         - distance from p to the segment</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * dissegtoseg(Line v)            - distance of two segment</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * lineprog(Point p)              - returns projected point p on se line</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * symmetrypoint(Point p)         - returns reflection point of p over se</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Line</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	Point s,e;</span><br><span class="line"></span><br><span class="line">	Line()&#123;&#125;</span><br><span class="line"></span><br><span class="line">	Line(Point _s,Point _e)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		s = _s;</span><br><span class="line"></span><br><span class="line">		e = _e;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//求两直线的交点</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//要保证两直线不平行或重合</span></span><br><span class="line"></span><br><span class="line">	<span class="function">Point <span class="title">crosspoint</span><span class="params">(Line v)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> a1 = (v.e-v.s)^(s-v.s);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> a2 = (v.e-v.s)^(e-v.s);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> Point((s.x*a2-e.x*a1)/(a2-a1),(s.y*a2-e.y*a1)/(a2-a1));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> a1,b1,c1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> kk,bb;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">f1</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a1*x*x*x/<span class="number">3</span> + b1*x*x/<span class="number">2</span> + c1*x;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">f2</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> kk*x*x/<span class="number">2</span> + bb*x;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">asr</span><span class="params">(<span class="keyword">double</span> a,<span class="keyword">double</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//printf("%lf  %lf\n",a,b);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//return asr(a,b,eps,simpson(a,b));</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//if(fabs(b-a) &lt; eps)return 0.0;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> mid = (b+a)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> tmp1 = a1*mid*mid + b1*mid + c1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> tmp2 = kk*mid + bb;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(tmp1 &gt; tmp2)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		ans =  f1(b) - f1(a);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> ans = f2(b) - f2(a);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//printf("%.10lf\n",ans);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">solve</span><span class="params">(Point s,Point e)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> x1 = s.x, y1 = s.y;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> x2 = e.x, y2 = e.y;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">fabs</span>(x1-x2) &lt; eps)<span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">	kk = (y2-y1)/(x2-x1);</span><br><span class="line"></span><br><span class="line">	bb = y1 - kk*x1;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt;vec;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">fabs</span>(a1) &lt; eps)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">fabs</span>(b1-bb) &lt; eps)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> asr(x1,x2);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			vec.push_back(x1);</span><br><span class="line"></span><br><span class="line">			vec.push_back(x2);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> xx = (bb-c1)/(b1-kk);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>( (xx-x1)*(xx-x2) &lt; <span class="number">0</span> )</span><br><span class="line"></span><br><span class="line">				vec.push_back(xx);</span><br><span class="line"></span><br><span class="line">			sort(vec.begin(),vec.end());</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> sz = vec.size();</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz<span class="number">-1</span>;i++)</span><br><span class="line"></span><br><span class="line">				ans += asr(vec[i],vec[i+<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(x1 &gt; x2)ans = -ans;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> deta = (b1-kk)*(b1-kk) - <span class="number">4</span>*a1*(c1-bb);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">fabs</span>(deta) &lt; eps)deta = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(deta &lt;= -eps)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> asr(x1,x2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		vec.push_back(x1);</span><br><span class="line"></span><br><span class="line">		vec.push_back(x2);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> xx = (-(b1-kk)+<span class="built_in">sqrt</span>(deta))/(<span class="number">2</span>*a1);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>( (xx-x1)*(xx-x2) &lt; <span class="number">0</span> )</span><br><span class="line"></span><br><span class="line">			vec.push_back(xx);</span><br><span class="line"></span><br><span class="line">		xx = (-(b1-kk)-<span class="built_in">sqrt</span>(deta))/(<span class="number">2</span>*a1);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>( (xx-x1)*(xx-x2) &lt; <span class="number">0</span> )</span><br><span class="line"></span><br><span class="line">			vec.push_back(xx);</span><br><span class="line"></span><br><span class="line">		sort(vec.begin(),vec.end());</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> sz = vec.size();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz<span class="number">-1</span>;i++)</span><br><span class="line"></span><br><span class="line">			ans += asr(vec[i],vec[i+<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(x1 &gt; x2)ans = -ans;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Point&gt;p;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("0.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("00.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf"</span>,&amp;a1,&amp;b1,&amp;c1);</span><br><span class="line"></span><br><span class="line">		Point A,B,C,D,E;</span><br><span class="line"></span><br><span class="line">		A.input();</span><br><span class="line"></span><br><span class="line">		B.input();</span><br><span class="line"></span><br><span class="line">		A.y -= <span class="number">1e7</span>;</span><br><span class="line"></span><br><span class="line">		B.y -= <span class="number">1e7</span>;</span><br><span class="line"></span><br><span class="line">		c1 -= <span class="number">1e7</span>;</span><br><span class="line"></span><br><span class="line">		C = A.rotate(B,<span class="number">36.0</span>/<span class="number">180.0</span>*PI);</span><br><span class="line"></span><br><span class="line">		D = B.rotate(C,<span class="number">36.0</span>/<span class="number">180.0</span>*PI);</span><br><span class="line"></span><br><span class="line">		E = C.rotate(D,<span class="number">36.0</span>/<span class="number">180.0</span>*PI);</span><br><span class="line"></span><br><span class="line">		p.clear();</span><br><span class="line"></span><br><span class="line">		p.push_back(A);</span><br><span class="line"></span><br><span class="line">		p.push_back(Line(A,E).crosspoint(Line(C,D)));</span><br><span class="line"></span><br><span class="line">		p.push_back(C);</span><br><span class="line"></span><br><span class="line">		p.push_back(Line(A,E).crosspoint(Line(B,C)));</span><br><span class="line"></span><br><span class="line">		p.push_back(E);</span><br><span class="line"></span><br><span class="line">		p.push_back(Line(D,E).crosspoint(Line(B,C)));</span><br><span class="line"></span><br><span class="line">		p.push_back(B);</span><br><span class="line"></span><br><span class="line">		p.push_back(Line(D,E).crosspoint(Line(A,B)));</span><br><span class="line"></span><br><span class="line">		p.push_back(D);</span><br><span class="line"></span><br><span class="line">		p.push_back(Line(C,D).crosspoint(Line(A,B)));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> tmp = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> sz = p.size();</span><br><span class="line"></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		for(int i = 0;i &lt; sz;i++)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		&#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			printf("** %lf %lf\n",p[i].x,p[i].y);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; sz;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> tt1 = solve(p[i],p[(i+<span class="number">1</span>)%sz]);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//cout&lt;&lt;tt1&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">			tmp += tt1;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(tmp &lt; <span class="number">0</span>)tmp = -tmp;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">fabs</span>(tmp) &lt; eps)tmp = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.8lf\n"</span>,tmp);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout&lt;&lt;tmp&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		double L = A.distance(B);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		double h = L/2 * tan(18.0/180.0*PI);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		L = B.distance(Line(E,D).crosspoint(Line(A,B)));</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		double ans = 5*L*h - tmp;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		printf("%.6lf\n",ans);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>D：</p>
<h3 id="Maze"><a href="#Maze" class="headerlink" title="Maze"></a>Maze</h3><p>最后保留的箱子数肯定是 lcm(n,m)的倍数。 枚举最后的箱子数。 然后使用最小费用最大流去求最小费用。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">2010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM = <span class="number">400000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">gcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(b == <span class="number">0</span>)<span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">lcm</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a/gcd(a,b)*b;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> to,next,cap,flow,cost;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN],tol;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre[MAXN],dis[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vis[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	N = n;</span><br><span class="line"></span><br><span class="line">	tol = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> cap,<span class="keyword">int</span> cost)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	edge[tol].to = v;</span><br><span class="line"></span><br><span class="line">	edge[tol].cap = cap;</span><br><span class="line"></span><br><span class="line">	edge[tol].cost = cost;</span><br><span class="line"></span><br><span class="line">	edge[tol].flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].next = head[u];</span><br><span class="line"></span><br><span class="line">	head[u] = tol++;</span><br><span class="line"></span><br><span class="line">	edge[tol].to = u;</span><br><span class="line"></span><br><span class="line">	edge[tol].cap = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].cost = -cost;</span><br><span class="line"></span><br><span class="line">	edge[tol].flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	edge[tol].next = head[v];</span><br><span class="line"></span><br><span class="line">	head[v] = tol++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		dis[i] = INF;</span><br><span class="line"></span><br><span class="line">		vis[i] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		pre[i] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	dis[s] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	vis[s] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	q.push(s);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(!q.empty())</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> u = q.front();</span><br><span class="line"></span><br><span class="line">		q.pop();</span><br><span class="line"></span><br><span class="line">		vis[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> v = edge[i].to;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; dis[v] &gt; dis[u] + edge[i].cost)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				dis[v] = dis[u] + edge[i].cost;</span><br><span class="line"></span><br><span class="line">				pre[v] = i;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(!vis[v])</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					vis[v] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">					q.push(v);</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(pre[t] == <span class="number">-1</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostMaxflow</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> &amp;cost)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	cost = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(spfa(s,t))</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> Min = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = pre[t];i != <span class="number">-1</span>;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(Min &gt; edge[i].cap - edge[i].flow)</span><br><span class="line"></span><br><span class="line">				Min = edge[i].cap - edge[i].flow;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = pre[t];i != <span class="number">-1</span>;i = pre[edge[i^<span class="number">1</span>].to])</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			edge[i].flow += Min;</span><br><span class="line"></span><br><span class="line">			edge[i^<span class="number">1</span>].flow -= Min;</span><br><span class="line"></span><br><span class="line">			cost += edge[i].cost*Min;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		flow += Min;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> flow;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> p[MAXN][MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("2.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//freopen("2.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m) == <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;p[i][j]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> L = lcm(n,m);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">				sum += p[i][j];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = sum*y;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> s = L;s &lt;= sum;s+=L)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			init(n+m+<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				addedge(n+m,i,s/n,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(i &lt; n<span class="number">-1</span>)addedge(i,i+<span class="number">1</span>,INF,x);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(i &gt; <span class="number">0</span>)addedge(i,i<span class="number">-1</span>,INF,x);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				addedge(i+n,n+m+<span class="number">1</span>,s/m,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(i &lt; m<span class="number">-1</span>)addedge(i+n,i+n+<span class="number">1</span>,INF,x);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(i &gt; <span class="number">0</span>)addedge(i+n,i+n<span class="number">-1</span>,INF,x);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line"></span><br><span class="line">					addedge(i,j+n,p[i][j],<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> cost;</span><br><span class="line"></span><br><span class="line">			minCostMaxflow(n+m,n+m+<span class="number">1</span>,cost);</span><br><span class="line"></span><br><span class="line">			ans = min(ans,y*(sum-s) + cost);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//printf("%d %d\n ",s,ans);</span></span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  E：</p>
<h3 id="喵喵的遗憾"><a href="#喵喵的遗憾" class="headerlink" title="喵喵的遗憾"></a>喵喵的遗憾</h3><p>就是求斐波那契数列数列取模的循环节。 经典问题。   <strong>对于斐波那契数列数列，求其模n的循环节</strong> 对于一个正整数n，我们求Fib数模n的循环节的长度的方法如下：   （1）把 \(n\)素因子分解，即 \(n = p_{1}^{a_1}p_{2}^{a_2}…….p_{k}^{a_k}\) （2）分别计算Fib数模每个\(p_{i}^{a_i}\)的循环节长度，假设长度分别是\(x_{1},x_{2},……x_{k}\) （3）那么Fib模n的循环节长度\( lcm(x_{1},x_{2},….x_{k}) \)   从上面三个步骤看来，关键就是求Fib数模每个\(p^{m}\)的循环节长度   这里有一个优美的定理：Fib数模的最小循环节长度等于\( G(p)*p^{m-1} \)，其中\(G(p)\)表示Fib数模素数的最小循环节长度。可以看出我们现在最重要的就是求\(G(p)\)   对于求我们利用如下定理：   如果5是模的二次剩余，那么循环节的的长度\(p-1\)是的因子，否则，循环节的长度\(2(p+1)\)是的因子。   顺便说一句，对于小于等于5的素数，我们直接特殊判断，loop(2)=3,loop(3)=8,loop(5)=20。   那么我们可以先求出所有的因子，然后用矩阵快速幂来一个一个判断，这样时间复杂度不会很大。 <a href="http://www.kuangbin.top/wp-content/uploads/2014/07/二次剩余.png" target="_blank" rel="noopener"><img src="http://www.kuangbin.top/wp-content/uploads/2014/07/二次剩余-300x202.png" alt="二次剩余"></a>   这样这个问题就解决了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/27 22:43:58</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\Test\A.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">gcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)<span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">lcm</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a/gcd(a,b)*b;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mat[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">mul_M</span><span class="params">(Matrix a,Matrix b,<span class="keyword">long</span> <span class="keyword">long</span> mod)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    Matrix ret;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>;i++)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; <span class="number">2</span>;j++)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            ret.mat[i][j] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k &lt; <span class="number">2</span>;k++)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                ret.mat[i][j] += a.mat[i][k]*b.mat[k][j]%mod;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(ret.mat[i][j] &gt;= mod)ret.mat[i][j] -= mod;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Matrix <span class="title">pow_M</span><span class="params">(Matrix a,<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">long</span> <span class="keyword">long</span> mod)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    Matrix ret;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(ret.mat,<span class="number">0</span>,<span class="keyword">sizeof</span>(ret.mat));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>;i++)ret.mat[i][i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Matrix tmp = a;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>)ret = mul_M(ret,tmp,mod);</span><br><span class="line"></span><br><span class="line">        tmp = mul_M(tmp,tmp,mod);</span><br><span class="line"></span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">pow_m</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">long</span> <span class="keyword">long</span> mod)</span><span class="comment">//a^b % mod</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tmp = a%mod;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>)ret = ret*tmp%mod;</span><br><span class="line"></span><br><span class="line">        tmp = tmp*tmp%mod;</span><br><span class="line"></span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//素数筛选和合数分解</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> prime[MAXN+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(prime,<span class="number">0</span>,<span class="keyword">sizeof</span>(prime));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i &lt;= MAXN;i++)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!prime[i])prime[++prime[<span class="number">0</span>]] = i;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= prime[<span class="number">0</span>] &amp;&amp; prime[j] &lt;= MAXN/i;j++)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            prime[prime[j]*i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i%prime[j] == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> factor[<span class="number">100</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> fatCnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getFactors</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    fatCnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tmp = x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;prime[i] &lt;= tmp/prime[i];i++)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        factor[fatCnt][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(tmp%prime[i] == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            factor[fatCnt][<span class="number">0</span>] = prime[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(tmp%prime[i] == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                factor[fatCnt][<span class="number">1</span>]++;</span><br><span class="line"></span><br><span class="line">                tmp /= prime[i];</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fatCnt++;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(tmp != <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        factor[fatCnt][<span class="number">0</span>] = tmp;</span><br><span class="line"></span><br><span class="line">        factor[fatCnt++][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fatCnt;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//勒让德符号</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">legendre</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> p)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(pow_m(a,(p<span class="number">-1</span>)&gt;&gt;<span class="number">1</span>,p) == <span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> f0 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> f1 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getFib</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">long</span> <span class="keyword">long</span> mod)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(mod == <span class="number">1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Matrix A;</span><br><span class="line"></span><br><span class="line">    A.mat[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    A.mat[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    A.mat[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    A.mat[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    Matrix B = pow_M(A,n,mod);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ret = f0*B.mat[<span class="number">0</span>][<span class="number">0</span>] + f1*B.mat[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret%mod;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> fac[<span class="number">1000000</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> GG[<span class="number">1000000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">G</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> p)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p &lt; <span class="number">1000000</span> &amp;&amp; GG[p] != <span class="number">-1</span>)<span class="keyword">return</span> GG[p];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> num;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(legendre(<span class="number">5</span>,p) == <span class="number">1</span>)num = p<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> num = <span class="number">2</span>*(p+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//找出num的所有约数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>;i*i &lt;= num;i++)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(num%i == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            fac[cnt++] = i;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i*i != num)</span><br><span class="line"></span><br><span class="line">                fac[cnt++] = num/i;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    sort(fac,fac+cnt);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(getFib(fac[i],p) == f0 &amp;&amp; getFib(fac[i]+<span class="number">1</span>,p) == f1)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            ans = fac[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p &lt; <span class="number">1000000</span>)GG[p] = ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">find_loop</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    getFactors(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; fatCnt;i++)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> record = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(factor[i][<span class="number">0</span>] == <span class="number">2</span>)record = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(factor[i][<span class="number">0</span>] == <span class="number">3</span>)record = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(factor[i][<span class="number">0</span>] == <span class="number">5</span>)record = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>  record = G(factor[i][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt; factor[i][<span class="number">1</span>];j++)</span><br><span class="line"></span><br><span class="line">            record *= factor[i][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        ans = lcm(ans,record);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    getPrime();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("0.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    init();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(GG,<span class="number">-1</span>,<span class="keyword">sizeof</span>(GG));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> N,P;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;N,&amp;P);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mod1 = P;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mod2 = find_loop(mod1);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mod3 = find_loop(mod2);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = getFib(N,mod3);</span><br><span class="line"></span><br><span class="line">        ans = getFib(ans,mod2);</span><br><span class="line"></span><br><span class="line">        ans = getFib(ans,mod1);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(<span class="keyword">int</span>)ans);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  F：</p>
<h3 id="飞行棋"><a href="#飞行棋" class="headerlink" title="飞行棋"></a>飞行棋</h3><p>解方程。 并不需要高斯消元一样去解，直接消就可以了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/23 23:37:43</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\Flying_chess\std.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> p[MAXN][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> a[MAXN][<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> x[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> d1,d2,d3,d4,d5;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">			x[i] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">		x[n] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d%d"</span>,&amp;d1,&amp;d2,&amp;d3,&amp;d4,&amp;d5);</span><br><span class="line"></span><br><span class="line">			p[i][<span class="number">1</span>] = (<span class="keyword">double</span>)d1/(d1+d2+d3+d4+d5);</span><br><span class="line"></span><br><span class="line">			p[i][<span class="number">2</span>] = (<span class="keyword">double</span>)d2/(d1+d2+d3+d4+d5);</span><br><span class="line"></span><br><span class="line">			p[i][<span class="number">3</span>] = (<span class="keyword">double</span>)d3/(d1+d2+d3+d4+d5);</span><br><span class="line"></span><br><span class="line">			p[i][<span class="number">4</span>] = (<span class="keyword">double</span>)d4/(d1+d2+d3+d4+d5);</span><br><span class="line"></span><br><span class="line">			p[i][<span class="number">5</span>] = (<span class="keyword">double</span>)d5/(d1+d2+d3+d4+d5);</span><br><span class="line"></span><br><span class="line">			a[i][<span class="number">2</span>] = <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">5</span>;j++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">int</span> tmp = i + j - <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(tmp &lt;= <span class="number">0</span>)tmp = <span class="number">1</span>-tmp;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(tmp &gt; n)tmp = n - (n+<span class="number">1</span>-tmp);</span><br><span class="line"></span><br><span class="line">				a[i][tmp-i+<span class="number">2</span>] -= p[i][j];</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(i == n)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j++)a[i][j] = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">				a[i][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = n<span class="number">-1</span>;i &gt;= <span class="number">1</span>;i--)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = min(n,i+<span class="number">2</span>);j&gt;i;j--)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">double</span> tmp = a[i][j-i+<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(<span class="built_in">fabs</span>(tmp) &lt; eps)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt;=<span class="number">2</span> &amp;&amp; j-k &gt; <span class="number">0</span>;k++)</span><br><span class="line"></span><br><span class="line">					a[i][j-k-i+<span class="number">2</span>] -= a[j][<span class="number">2</span>-k]*tmp;</span><br><span class="line"></span><br><span class="line">				x[i] -= x[j]*tmp;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> q = a[i][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; <span class="number">5</span>;j++)</span><br><span class="line"></span><br><span class="line">				a[i][j] /= q;</span><br><span class="line"></span><br><span class="line">			x[i] /= q;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.2lf\n"</span>,x[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  G:</p>
<h3 id="喵喵的-Query-On-Tree"><a href="#喵喵的-Query-On-Tree" class="headerlink" title="喵喵的 Query On Tree"></a>喵喵的 Query On Tree</h3><p>数据是随机的。 就是暴力搞吧。 但是DS太不人道了，数据有很大的概率出现了1. 所以要对树根，就是点1的查询，进行特殊处理。 胡搞下。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/29 22:50:34</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\qtree.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> to,next;</span><br><span class="line"></span><br><span class="line">&#125;edge[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[MAXN],tot;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	edge[tot].to = v;</span><br><span class="line"></span><br><span class="line">	edge[tot].next = head[u];</span><br><span class="line"></span><br><span class="line">	head[u] = tot++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> fa[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> w[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dep[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	dep[u] = d;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">		dfs(edge[i].to,d+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> c[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	c[cnt++] = w[u];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i != <span class="number">-1</span>;i = edge[i].next)</span><br><span class="line"></span><br><span class="line">		dfs1(edge[i].to);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//适用于正负整数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">inline</span> <span class="title">bool</span> <span class="title">scan_d</span>(<span class="title">T</span> &amp;<span class="title">ret</span>) &#123;</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">char</span> c; <span class="keyword">int</span> sgn;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(c=getchar(),c==EOF) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//EOF</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span>(c!=<span class="string">'-'</span>&amp;&amp;(c&lt;<span class="string">'0'</span>||c&gt;<span class="string">'9'</span>)) c=getchar();</span><br><span class="line"></span><br><span class="line">   sgn=(c==<span class="string">'-'</span>)?<span class="number">-1</span>:<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">   ret=(c==<span class="string">'-'</span>)?<span class="number">0</span>:(c-<span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span>(c=getchar(),c&gt;=<span class="string">'0'</span>&amp;&amp;c&lt;=<span class="string">'9'</span>) ret=ret*<span class="number">10</span>+(c-<span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">   ret*=sgn;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(x&gt;<span class="number">9</span>) out(x/<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">   <span class="built_in">putchar</span>(x%<span class="number">10</span>+<span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt;st;</span><br><span class="line"></span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("2.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("22.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> u,v,x;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//scanf("%d",&amp;T);</span></span><br><span class="line"></span><br><span class="line">	scan_d(T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//scanf("%d",&amp;n);</span></span><br><span class="line"></span><br><span class="line">		scan_d(n);</span><br><span class="line"></span><br><span class="line">		init();</span><br><span class="line"></span><br><span class="line">		st.clear();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i++)<span class="comment">//scanf("%d",&amp;w[i]);</span></span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">		  scan_d(w[i]);</span><br><span class="line"></span><br><span class="line">		  st.insert(w[i]);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		fa[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i  = <span class="number">2</span>;i &lt;= n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//scanf("%d",&amp;v);</span></span><br><span class="line"></span><br><span class="line">			scan_d(v);</span><br><span class="line"></span><br><span class="line">			addedge(v,i);</span><br><span class="line"></span><br><span class="line">			fa[i] = v;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		dfs(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> Q;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">char</span> op[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;Q);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(Q--)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>,op);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(op[<span class="number">0</span>] == <span class="string">'C'</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="comment">//scanf("%d%d%d",&amp;u,&amp;v,&amp;x);</span></span><br><span class="line"></span><br><span class="line">				scan_d(u);</span><br><span class="line"></span><br><span class="line">				scan_d(v);</span><br><span class="line"></span><br><span class="line">				scan_d(x);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">while</span>(u != v)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>(dep[u] &lt; dep[v])swap(u,v);</span><br><span class="line"></span><br><span class="line">					it = st.lower_bound(w[u]);</span><br><span class="line"></span><br><span class="line">					st.erase(it);</span><br><span class="line"></span><br><span class="line">					st.insert(x);</span><br><span class="line"></span><br><span class="line">					w[u] = x;</span><br><span class="line"></span><br><span class="line">    				u = fa\[u\];</span><br><span class="line">    			&#125;</span><br><span class="line">    			it = st.lower_bound(w\[u\]);</span><br><span class="line">    			st.erase(it);</span><br><span class="line">    			st.insert(x);</span><br><span class="line">    			w\[u\] = x;</span><br><span class="line">    		&#125;</span><br><span class="line">    		<span class="keyword">else</span></span><br><span class="line">    		&#123;</span><br><span class="line">    			<span class="comment">//scanf("%d%d",&amp;u,&amp;x);</span></span><br><span class="line">    			scan_d(u);</span><br><span class="line">    			scan_d(x);</span><br><span class="line">    			<span class="keyword">if</span>(u == <span class="number">1</span>)</span><br><span class="line">    			&#123;</span><br><span class="line">    				it = st.begin();</span><br><span class="line">    				<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n-x;i++)it++;</span><br><span class="line">    				<span class="built_in">printf</span>(<span class="string">"%d\\n"</span>,*it);</span><br><span class="line">    				<span class="keyword">continue</span>;</span><br><span class="line">    			&#125;</span><br><span class="line">    			cnt = <span class="number">0</span>;</span><br><span class="line">    			dfs1(u);</span><br><span class="line">    			sort(c,c+cnt);</span><br><span class="line">    			<span class="built_in">printf</span>(<span class="string">"%d\\n"</span>,c\[cnt-x\]);</span><br><span class="line">    		&#125;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>H:</p>
<h3 id="Driving"><a href="#Driving" class="headerlink" title="Driving"></a>Driving</h3><p>二分速度。 判断是否可行，然后求时间。  </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/17 23:49:59</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\Driving\std.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> INF = <span class="number">1e30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> s[MAXN],b[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("3.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("3.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> f,v;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) == <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;f,&amp;v);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;s[i],&amp;b[i]);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> l = <span class="number">0</span>, r = v;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">double</span> ans = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">bool</span> find = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">while</span>(r-l &gt;= eps)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> cost = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">double</span> t = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(b[i] &gt;= <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					cost += (<span class="number">0.5</span>*mid + b[i])*s[i];</span><br><span class="line"></span><br><span class="line">					t += s[i]/mid;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					cost += max(<span class="number">0.0</span>,<span class="number">0.5</span>*mid + b[i])*s[i];</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span>((<span class="number">0.5</span>*mid + b[i]) &lt; eps)</span><br><span class="line"></span><br><span class="line">						t += s[i]/min(v,-b[i]/<span class="number">0.5</span>);</span><br><span class="line"></span><br><span class="line">					<span class="keyword">else</span> t += s[i]/mid;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(cost &lt;= f)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				find = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">				ans = min(ans,t);</span><br><span class="line"></span><br><span class="line">				l = mid;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span> r = mid;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(!find)<span class="built_in">printf</span>(<span class="string">"Bad Luck!\n"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%.3lf\n"</span>,ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  I：</p>
<h3 id="喵喵的IDE"><a href="#喵喵的IDE" class="headerlink" title="喵喵的IDE"></a>喵喵的IDE</h3><p>字典树搞。 很水很暴力。 这需要对每个字典树中的点，维护最近的点在哪。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/7/1 21:51:15</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\IDE.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> next[<span class="number">1001000</span>][<span class="number">26</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> L[<span class="number">1001000</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> tot,root;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">newnode</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">26</span>;i++)</span><br><span class="line"></span><br><span class="line">			next[tot][i] = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">		L[tot++] = INF;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> tot<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		root = newnode();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> buf[])</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> ans = len;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> now = root;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; len;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>(next[now][buf[i]-<span class="string">'a'</span>] == <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				next[now][buf[i]-<span class="string">'a'</span>] = newnode();</span><br><span class="line"></span><br><span class="line">				now = next[now][buf[i]-<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				now = next[now][buf[i]-<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line">				ans = min(ans,<span class="number">1</span>+L[now]+len<span class="number">-1</span>-i);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			L[now] = min(L[now],len<span class="number">-1</span>-i);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Trie tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">1000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("in.txt","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("out.txt","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(T--)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		tree.init();</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%s"</span>,&amp;n,str);</span><br><span class="line"></span><br><span class="line">		tree.insert(str);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,tree.insert(str));</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  J:</p>
<h3 id="Base-Station"><a href="#Base-Station" class="headerlink" title="Base Station"></a>Base Station</h3><p>简单数据结构。 到两个基站的距离，其实就构成了二维坐标。 其中一个按照顺序加入，另外一维用一维树状数组就可以查询了。 不多说了，很水很暴力。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ***************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Author        :kuangbin</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Created Time  :2014/6/25 16:17:04</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">File Name     :E:\2014ACM\题目\Base_Station\std.cpp</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">************************************************ */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> c[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> x&amp;(-x);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(i &lt;= n)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		c[i] += val;</span><br><span class="line"></span><br><span class="line">		i += lowbit(i);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(i &gt; <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		s += c[i];</span><br><span class="line"></span><br><span class="line">		i -= lowbit(i);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> x,y;</span><br><span class="line"></span><br><span class="line">&#125;p[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a,Node b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a.x &gt;  b.x;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Query</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> r1,r2;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> index;</span><br><span class="line"></span><br><span class="line">&#125;query[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(Query a,Query b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> a.r1 &gt; b.r1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> b[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("2.in","r",stdin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//freopen("2.out","w",stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> x1,y1,x2,y2;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> x,y;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2) == <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">memset</span>(c,<span class="number">0</span>,<span class="keyword">sizeof</span>(c));</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> dx1 = x1-x;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> dy1 = y1-y;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> dx2 = x2-x;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> dy2 = y2-y;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> tmp1 = dx1*dx1+dy1*dy1;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> tmp2 = dx2*dx2+dy2*dy2;</span><br><span class="line"></span><br><span class="line">			p[i].x = tmp1;</span><br><span class="line"></span><br><span class="line">			p[i].y = tmp2;</span><br><span class="line"></span><br><span class="line">			b[++tot] = tmp2;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		sort(p,p+n,cmp);</span><br><span class="line"></span><br><span class="line">		sort(b+<span class="number">1</span>,b+tot+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		tot = unique(b+<span class="number">1</span>,b+tot+<span class="number">1</span>) - b - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> r1,r2;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;r1,&amp;r2);</span><br><span class="line"></span><br><span class="line">			query[i].r1 = (<span class="keyword">long</span> <span class="keyword">long</span>)r1*r1;</span><br><span class="line"></span><br><span class="line">			query[i].r2 = (<span class="keyword">long</span> <span class="keyword">long</span>)r2*r2;</span><br><span class="line"></span><br><span class="line">			query[i].index = i;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		sort(query,query+m,cmp2);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> id = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span>(id &lt; n &amp;&amp; p\[id\].x &gt;= query[i].r1)</span><br><span class="line"></span><br><span class="line">			&#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">int</span> loc = lower_bound(b+<span class="number">1</span>,b+tot+<span class="number">1</span>,p[id].y) - b;</span><br><span class="line"></span><br><span class="line">				add(loc,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">				id++;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> L = lower_bound(b+<span class="number">1</span>,b+tot+<span class="number">1</span>,query[i].r2) - b;</span><br><span class="line"></span><br><span class="line">			ans[query[i].index] = sum(n) - sum(L<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;i++)</span><br><span class="line"></span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans[i]);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kuangbin.github.io/2014/07/02/regionals-2012-europe-central/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kuangbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/blogLogo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kuangbin的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/07/02/regionals-2012-europe-central/" itemprop="url">
                  Regionals 2012 :: Europe - Central
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-02 22:38:39" itemprop="dateCreated datePublished" datetime="2014-07-02T22:38:39+08:00">2014-07-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-29 13:43:28" itemprop="dateModified" datetime="2018-07-29T13:43:28+08:00">2018-07-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Uncategorized/" itemprop="url" rel="index"><span itemprop="name">Uncategorized</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="题目链接：UVALive"><a href="#题目链接：UVALive" class="headerlink" title="题目链接：UVALive"></a>题目链接：<a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567" target="_blank" rel="noopener">UVALive</a></h3><p>VJ比赛地址： <a href="http://vjudge.net/contest/view.action?cid=48560#overview" target="_blank" rel="noopener">here</a>   总体来说，还是有几道好题的。   A：</p>
<h3 id="Kingdoms"><a href="#Kingdoms" class="headerlink" title="Kingdoms"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4266" target="_blank" rel="noopener">Kingdoms</a></h3><p>题目就是给出了n个人之间的欠款。 每次可以把负债的人删除，问最后只留下一个人，有多少种。 进行DP转移，状态压缩DP。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/6/29 21:18:34<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\A.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>bool dp[(1&lt;&lt;20)+20];<br>int two[22];<br>int a[22][22];<br>int s[22][(1&lt;&lt;20)+20];<br>int loc[(1&lt;&lt;22)];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n;<br>    scanf(“%d”,&amp;T);<br>    two[0] = 1;<br>    for(int i = 1;i &lt; 22;i++)<br>    {<br>        two[i] = 2*two[i-1];<br>        loc[two[i]] = i;<br>    }<br>    while(T–)<br>    {<br>        scanf(“%d”,&amp;n);<br>        for(int i = 0;i &lt; n;i++)<br>            for(int j = 0;j &lt; n;j++)<br>                scanf(“%d”,&amp;a[i][j]);<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            s[i][0] = 0;<br>            for(int j = 0;j &lt; n;j++)<br>                s[i][0] += a[i][j];<br>        }<br>        for(int i = 0;i &lt; n;i++)<br>            for(int j = 1;j &lt; two[n];j++)<br>                s[i][j] = s[i][j&amp;(j-1)] - a[i][loc[j&amp;(-j)]];<br>        memset(dp,false,sizeof(dp));<br>        dp[0] = true;<br>        for(int i = 0;i &lt; two[n];i++)<br>            if(dp[i])<br>            {<br>                for(int j = 0;j &lt; n;j++)<br>                    if((i&amp;two[j]) == 0 &amp;&amp; s[j][i] &gt; 0)<br>                        dp[i^two[j]] = true;<br>            }<br>        vector<int>ans;<br>        for(int i = 0;i &lt; n;i++)<br>            if(dp[(two[n]-1)^two[i]])<br>                ans.push_back(i);<br>        if(ans.size() == 0)printf(“0\n”);<br>        else<br>        {<br>            sort(ans.begin(),ans.end());<br>            int sz = ans.size();<br>            for(int i = 0;i &lt; sz;i++)<br>            {<br>                printf(“%d”,ans[i]+1);<br>                if(i &lt; sz-1)printf(“ “);<br>                else printf(“\n”);<br>            }<br>        }<br>    }<br>    return 0;<br>}</int></p>
<p>  B:</p>
<h3 id="Who-wants-to-live-forever"><a href="#Who-wants-to-live-forever" class="headerlink" title="Who wants to live forever?"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4267" target="_blank" rel="noopener">Who wants to live forever?</a></h3><p>给出一个01的字符串，每次用s[i-1] xor s[i+1] 去更新s[i], 问最后能不能变成全0 规律题。   C:</p>
<h3 id="Chemist’s-vows"><a href="#Chemist’s-vows" class="headerlink" title="Chemist’s vows"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4268" target="_blank" rel="noopener">Chemist’s vows</a></h3><p>纯暴力，打那个表太费劲了。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/6/29 21:53:44<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\C.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>char str[114][10] =<br>{<br>    “h” ,”he”,”li”,”be”,”b” ,”c” ,”n” ,”o” ,”f” ,”ne”,<br>    “na”,”mg”,”al”,”si”,”p” ,”s” ,”cl”,”ar”,”k” ,”ca”,<br>    “sc”,”ti”,”v” ,”cr”,”mn”,”fe”,”co”,”ni”,”cu”,”zn”,<br>    “ga”,”ge”,”as”,”se”,”br”,”kr”,”rb”,”sr”,”y” ,”zr”,<br>    “nb”,”mo”,”tc”,”ru”,”rh”,”pd”,”ag”,”cd”,”in”,”sn”,<br>    “sb”,”te”,”i” ,”xe”,”cs”,”ba”,”hf”,”ta”,”w” ,”re”,<br>    “os”,”ir”,”pt”,”au”,”hg”,”tl”,”pb”,”bi”,”po”,”at”,<br>    “rn”,”fr”,”ra”,”rf”,”db”,”sg”,”bh”,”hs”,”mt”,”ds”,<br>    “rg”,”cn”,”fl”,”lv”,<br>    “la”,”ce”,”pr”,”nd”,”pm”,”sm”,”eu”,”gd”,”tb”,”dy”,”ho”,”er”,”tm”,”yb”,”lu”,<br>    “ac”,”th”,”pa”,”u” ,”np”,”pu”,”am”,”cm”,”bk”,”cf”,”es”,”fm”,”md”,”no”,”lr”<br>};<br>bool f[50010];</p>
<p>char s[50010];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%s”,s);<br>        memset(f,0,sizeof(s));<br>        int n = strlen(s);<br>        f[0] = true;<br>        for(int i = 1;i &lt;= n;i++)<br>        {<br>            for(int j = 0;j &lt; 114;j++)<br>            {<br>                int len = strlen(str[j]);<br>                if(len == 1 &amp;&amp; s[i-1] == str[j][0])<br>                    f[i] |= f[i-1];<br>                if(len == 2 &amp;&amp; i &gt;= 2 &amp;&amp; s[i-1] == str[j][1] &amp;&amp; s[i-2] == str[j][0])<br>                    f[i] |= f[i-2];<br>            }<br>        }<br>        if(f[n])printf(“YES\n”);<br>        else printf(“NO\n”);<br>    }<br>    return 0;<br>}</p>
<p>  D：</p>
<h3 id="Non-boring-sequences"><a href="#Non-boring-sequences" class="headerlink" title="Non-boring sequences"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=4269" target="_blank" rel="noopener">Non-boring sequences</a></h3><p>要求任意一个连续子序列都要有一个唯一的元素。 一种做法是分治。 判断一个区间的时候，找出这个区间里面唯一元素，然后分治。 但是为了防止退化，找唯一元素应该从两端找起。就是一前一后找。 如果按照顺序找，是有可能退化的。 代码：</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/6/29 22:20:39<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\D1.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 200010;<br>int a[MAXN];<br>int L[MAXN];<br>int R[MAXN];<br>bool check(int l,int r)<br>{<br>    if(r &lt;= l)return true;<br>    int index = -1;<br>    for(int i = 0;i &lt; (r-l+1);i++)<br>    {<br>        int id = i&amp;1? l+i/2:r-i/2;<br>        if(L[id] &lt; l &amp;&amp; R[id] &gt; r)<br>        {<br>            index = id;<br>            break;<br>        }<br>    }<br>    if(index == -1)return false;<br>    return check(l,index-1) &amp;&amp; check(index+1,r);<br>}</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d”,&amp;n);<br>        for(int i = 1;i &lt;= n;i++)scanf(“%d”,&amp;a[i]);<br>        map&lt;int,int&gt;mp;<br>        for(int i = 1;i &lt;= n;i++)<br>        {<br>            if(mp.find(a[i]) == mp.end())L[i] = 0;<br>            else L[i] = mp[a[i]];<br>            mp[a[i]] = i;<br>        }<br>        mp.clear();<br>        for(int i = n;i &gt;= 1;i–)<br>        {<br>            if(mp.find(a[i]) == mp.end())R[i] = n+1;<br>            else R[i] = mp[a[i]];<br>            mp[a[i]] = i;<br>        }<br>        if(check(1,n))printf(“non-boring\n”);<br>        else printf(“boring\n”);<br>    }<br>    return 0;<br>}</p>
<p>  另外一种做法是用线段树做的。 维护一个区间的最小值，然后更新区间的值。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/6/29 22:32:15<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\D2.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>const int MAXN = 200010;<br>struct Node<br>{<br>    int l,r;<br>    int Min;<br>    int lazy;<br>}segTree[MAXN*4];<br>int a[MAXN];<br>void Update_Min(int i,int val)<br>{<br>    if(segTree[i].Min &lt; val)<br>    {<br>        segTree[i].Min = val;<br>        segTree[i].lazy = val;<br>    }<br>}<br>void push_down(int i)<br>{<br>    if(segTree[i].l == segTree[i].r)return;<br>    if(segTree[i].lazy != -1)<br>    {<br>        Update_Min(i&lt;&lt;1,segTree[i].lazy);<br>        Update_Min((i&lt;&lt;1)|1,segTree[i].lazy);<br>        segTree[i].lazy = -1;<br>    }<br>}<br>void push_up(int i)<br>{<br>    if(segTree[i].l == segTree[i].r)return;<br>    segTree[i].Min = min(segTree[i&lt;&lt;1].Min,segTree[(i&lt;&lt;1)|1].Min);<br>}<br>void build(int i,int l,int r)<br>{<br>    segTree[i].l = l;<br>    segTree[i].r = r;<br>    segTree[i].lazy = -1;<br>    if(l == r)<br>    {<br>        segTree[i].Min = a[l];<br>        return;<br>    }<br>    int mid = (l+r)/2;<br>    build(i&lt;&lt;1,l,mid);<br>    build((i&lt;&lt;1)|1,mid+1,r);<br>    push_up(i);<br>}<br>void update(int i,int l,int r,int val)<br>{<br>    if(segTree[i].l == l &amp;&amp; segTree[i].r == r)<br>    {<br>        Update_Min(i,val);<br>        return;<br>    }<br>    push_down(i);<br>    int mid = (segTree[i].l + segTree[i].r)/2;<br>    if(r &lt;= mid)update(i&lt;&lt;1,l,r,val);<br>    else if(l &gt; mid)update((i&lt;&lt;1)|1,l,r,val);<br>    else<br>    {<br>        update(i&lt;&lt;1,l,mid,val);<br>        update((i&lt;&lt;1)|1,mid+1,r,val);<br>    }<br>    push_up(i);<br>}<br>int query(int i,int l,int r)<br>{<br>    if(segTree[i].l == l &amp;&amp; segTree[i].r == r)<br>        return segTree[i].Min;<br>    push_down(i);<br>    int mid = (segTree[i].l + segTree[i].r)/2;<br>    if(r &lt;= mid)return query(i&lt;&lt;1,l,r);<br>    else if(l &gt; mid)return query((i&lt;&lt;1)|1,l,r);<br>    else<br>    {<br>        return min(query(i&lt;&lt;1,l,mid),query((i&lt;&lt;1)|1,mid+1,r));<br>    }<br>}<br>int b[MAXN];<br>int L[MAXN];<br>int R[MAXN];</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int n;<br>    int T;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d”,&amp;n);<br>        for(int i = 1;i &lt;= n;i++)<br>            scanf(“%d”,&amp;b[i]);<br>        map&lt;int,int&gt;mp;<br>        for(int i = 1;i &lt;= n;i++)<br>        {<br>            if(mp.find(b[i]) == mp.end())L[i] = 1;<br>            else L[i] = mp[b[i]]+1;<br>            mp[b[i]] = i;<br>        }<br>        mp.clear();<br>        for(int i = n;i &gt;= 1;i–)<br>        {<br>            if(mp.find(b[i]) == mp.end())R[i] = n;<br>            else R[i] = mp[b[i]]-1;<br>            mp[b[i]] = i;<br>            a[i] = R[i];<br>        }<br>        build(1,1,n);<br>        bool flag = true;<br>        for(int i = 2;i &lt;= n;i++)<br>        {<br>            if(query(1,1,i-1) &lt; i)<br>            {<br>                flag = false;<br>                break;<br>            }<br>            update(1,L[i],i,R[i]);<br>        }<br>        if(flag)printf(“non-boring\n”);<br>        else printf(“boring\n”);<br>    }<br>    return 0;<br>}</p>
<p>  E:</p>
<h3 id="Word-equations"><a href="#Word-equations" class="headerlink" title="Word equations"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=567&amp;problem=4270&amp;mosmsg=Submission+received+with+ID+1476002" target="_blank" rel="noopener">Word equations</a></h3><p>DP dp[i][j] 表示第i个点，从j这个位置匹配，匹配到的最远位置。  </p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/2 13:06:54<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\E.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 1010;</p>
<p>map&lt;string,int&gt;mp;<br>vector<int>vec[MAXN];<br>char s[MAXN][10];</int></p>
<p>char str1[20],str2[20],str3[20];<br>char aim[2020];<br>int n;<br>int dp[MAXN][2020];<br>void solve(int u)<br>{<br>    if(dp[u][0] != -1)return ;<br>    if(vec[u].size() == 2)<br>    {<br>        solve(vec[u][0]);<br>        solve(vec[u][1]);<br>        for(int i = 0;i &lt;= n;i++)<br>            dp[u][i] = dp[vec[u][1]][dp[vec[u][0]][i]];<br>    }<br>    else<br>    {<br>        int v = vec[u][0];<br>        dp[u][n] = n;<br>        int len = strlen(s[v]);<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            int id1 = i;<br>            int id2 = 0;<br>            while(id1 &lt; n &amp;&amp; id2 &lt; len)<br>            {<br>                while(id2 &lt; len &amp;&amp; aim[id1] != s[v][id2])<br>                    id2++;<br>                if(id2 &lt; len &amp;&amp; aim[id1] == s[v][id2])<br>                {<br>                    id1++;<br>                    id2++;<br>                }<br>            }<br>            dp[u][i] = id1;<br>        }<br>    }<br>}</p>
<p>int main()<br>{<br>    //freopen(“3.in”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int k;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d”,&amp;k);<br>        for(int i = 0;i &lt; MAXN;i++)<br>            vec[i].clear();<br>        mp.clear();<br>        int tot = 0;<br>        for(int i = 0;i &lt; k;i++)<br>        {<br>            scanf(“%s = %s”,str1,str2);<br>            if(mp.find(str1) == mp.end())<br>            {<br>                strcpy(s[tot],str1);<br>                mp[str1] = tot++;<br>            }<br>            if(mp.find(str2) == mp.end())<br>            {<br>                strcpy(s[tot],str2);<br>                mp[str2] = tot++;<br>            }<br>            vec[mp[str1]].push_back(mp[str2]);<br>            if(str2[0] &gt;= ‘A’ &amp;&amp; str2[0] &lt;= ‘Z’)<br>            {<br>                scanf(“%s%s”,str2,str3);<br>                if(mp.find(str3) == mp.end())<br>                {<br>                    strcpy(s[tot],str3);<br>                    mp[str3] = tot++;<br>                }<br>                vec[mp[str1]].push_back(mp[str3]);<br>            }<br>        }<br>        scanf(“%s%s”,str1,aim);<br>        n = strlen(aim);<br>        memset(dp,-1,sizeof(dp));<br>        solve(mp[str1]);<br>        if(dp[mp[str1]][0] == n)<br>            printf(“YES\n”);<br>        else printf(“NO\n”);<br>    }<br>    return 0;<br>}</p>
<pre><code>G:
</code></pre><h3 id="Jewel-heist"><a href="#Jewel-heist" class="headerlink" title="Jewel heist"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4272" target="_blank" rel="noopener">Jewel heist</a></h3><p>从低到高扫描。 各类点分别处理，找出一个个小矩形。  </p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/2 21:32:41<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\G.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>const int MAXN = 200010;<br>struct BIT<br>{<br>    int c[MAXN];<br>    int n;<br>    int lowbit(int x)<br>    {<br>        return x&amp;(-x);<br>    }<br>    void init(int _n)<br>    {<br>        n = _n;<br>        memset(c,0,sizeof(c));<br>    }<br>    void add(int i,int val)<br>    {<br>        while(i &lt;= n)<br>        {<br>            c[i] += val;<br>            i += lowbit(i);<br>        }<br>    }<br>    int sum(int i)<br>    {<br>        int s = 0;<br>        while(i &gt; 0)<br>        {<br>            s += c[i];<br>            i -= lowbit(i);<br>        }<br>        return s;<br>    }<br>    int sum(int l,int r)<br>    {<br>        if(l &gt; r)return 0;<br>        return sum(r) - sum(l-1);<br>    }<br>}bt;<br>struct Point<br>{<br>    int x,y;<br>    int c;<br>}p[MAXN];<br>bool cmp(Point p1,Point p2)<br>{<br>    return p1.y &lt; p2.y;<br>}<br>int sx[MAXN];</p>
<p>set<int>st[MAXN];</int></p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n,k;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d%d”,&amp;n,&amp;k);<br>        int tot = 0;<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            scanf(“%d%d%d”,&amp;p[i].x,&amp;p[i].y,&amp;p[i].c);<br>            sx[tot++] = p[i].x;<br>        }<br>        sort(sx,sx+tot);<br>        tot = unique(sx,sx+tot) - sx;<br>        bt.init(tot);<br>        for(int i = 0;i &lt; n;i++)<br>            p[i].x = lower_bound(sx,sx+tot,p[i].x) - sx + 1;<br>        sort(p,p+n,cmp);<br>        for(int i = 1;i &lt;= k;i++)<br>            st[i].clear();<br>        for(int i = 1;i &lt;= k;i++)<br>        {<br>            st[i].insert(0);<br>            st[i].insert(tot+1);<br>        }<br>        int ans = 0;<br>        set<int>::iterator it;<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            int ni = i;<br>            for(;ni &lt; n &amp;&amp; p[ni].y == p[i].y;ni++)<br>            {<br>                it = st[p[ni].c].lower_bound(p[ni].x);<br>                int end = (<em>it)-1;<br>                it–;<br>                int start = (</em>it)+1;<br>                ans = max(ans,bt.sum(start,end));<br>            }<br>            for(int j = i;j &lt; ni;j++)<br>            {<br>                bt.add(p[j].x,1);<br>                st[p[j].c].insert(p[j].x);<br>            }<br>            i = ni-1;<br>        }<br>        for(int i = 1;i &lt;= k;i++)<br>        {<br>            it = st[i].begin();<br>            it++;<br>            int pre = 0;<br>            while(it != st[i].end())<br>            {<br>                ans = max(ans,bt.sum(pre+1,(<em>it)-1));<br>                pre = </em>it;<br>                it++;<br>            }<br>        }<br>        printf(“%d\n”,ans);<br>    }<br>    return 0;<br>}</int></p>
<pre><code>H:
</code></pre><h3 id="Darts"><a href="#Darts" class="headerlink" title="Darts"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4273" target="_blank" rel="noopener">Darts</a></h3><p>水题，不解释。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/2 19:48:35<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\CERC2012\e\H.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;</p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d”,&amp;n);<br>        int ans = 0;<br>        int x,y;<br>        while(n–)<br>        {<br>            scanf(“%d%d”,&amp;x,&amp;y);<br>            for(int i = 10;i &gt;= 1;i–)<br>                if(x*x + y*y &lt;= 20<em>(11-i)\</em>20*(11-i))<br>                {<br>                    ans += i;<br>                    break;<br>                }<br>        }<br>        printf(“%d\n”,ans);<br>    }<br>    return 0;<br>}</p>
<p>  I：</p>
<h3 id="The-Dragon-and-the-knights"><a href="#The-Dragon-and-the-knights" class="headerlink" title="The Dragon and the knights"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;category=567&amp;page=show_problem&amp;problem=4274" target="_blank" rel="noopener">The Dragon and the knights</a></h3><p>N条直线，把平面分成了若干部分，需要判断是不是每个区域都有人。   首先使用公式求出分成的区域。 然后使用了set去判断，就是点在直线的哪一侧，就可以知道在哪个区域了。</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include <algorithm></algorithm></p>
<p>#include <iostream></iostream></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include &lt;string.h&gt;</p>
<p>#include <map></map></p>
<p>#include <vector></vector></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;<br>using namespace std;</p>
<p>int A[110],B[110],C[110];<br>int X[50010],Y[50010];</p>
<p>bool check(int i,int j)<br>{<br>    long long tmp = (long long)A[i]*B[j] - (long long)B[i]*A[j];<br>    if(tmp == 0)return false;<br>    return true;<br>}</p>
<p>set&lt;pair<long long,long="" long=""> &gt;st;<br>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int n,m;<br>    int T;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d%d”,&amp;n,&amp;m);<br>        for(int i = 0;i &lt; n;i++)scanf(“%d%d%d”,&amp;A[i],&amp;B[i],&amp;C[i]);<br>        for(int i = 0;i &lt; m;i++)scanf(“%d%d”,&amp;X[i],&amp;Y[i]);<br>        int E = 0;<br>        int V = 0;<br>        for(int i = 0;i &lt; n;i++)<br>        {<br>            int cnt = 0;<br>            for(int j = 0;j &lt; n;j++)<br>                if(i != j)<br>                    if(check(i,j))<br>                        cnt++;<br>            E += cnt+1;<br>            V += cnt;<br>        }<br>        V /= 2;<br>        int tot = 1+E - V;<br>        st.clear();<br>        for(int i = 0;i &lt; m;i++)<br>        {<br>            long long tmp1 = 0;<br>            long long tmp2 = 0;<br>            for(int j = 0;j &lt; n;j++)<br>            {<br>                long long tmp = (long long)A[j]*X[i] + (long long)B[j]*Y[i] + C[j];<br>                if(tmp &gt; 0)<br>                {<br>                    if(j &lt; 50)<br>                        tmp1 |= (1LL &lt;&lt; j);<br>                    else tmp2 |= (1LL &lt;&lt; (j-50));<br>                }<br>            }<br>            st.insert(make_pair(tmp1,tmp2));<br>        }<br>        if(st.size() == tot)printf(“PROTECTED\n”);<br>        else printf(“VULNERABLE\n”);<br>    }<br>    return 0;<br>}</long></p>
<p>  J：</p>
<h3 id="Conservation"><a href="#Conservation" class="headerlink" title="Conservation"></a><a href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;category=567&amp;problem=4275&amp;mosmsg=Submission+received+with+ID+1476027" target="_blank" rel="noopener">Conservation</a></h3><p>使用两个队列进行拓扑排序。 本题数据组数很多，如果用memset初始化会慢非常多。</p>
<p>/* <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>Author        :kuangbin<br>Created Time  :2014/7/2 20:12:02<br>File Name     :E:\2014ACM\区域赛练习\2012\2012CERC\J.cpp<br>************************************************ */</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>#include <iostream></iostream></p>
<p>#include <algorithm></algorithm></p>
<p>#include <vector></vector></p>
<p>#include <queue></queue></p>
<p>#include <set></set></p>
<p>#include <map></map></p>
<p>#include <string></string></p>
<p>#include &lt;math.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;time.h&gt;<br>using namespace std;<br>const int MAXN = 100010;<br>const int MAXM = 1000010;<br>const int INF = 0x3f3f3f3f;<br>struct Edge<br>{<br>    int to,next;<br>}edge[MAXM];<br>int head[MAXN],tot;<br>void init()<br>{<br>    tot = 0;<br>    //memset(head,-1,sizeof(head));<br>}<br>void addedge(int u,int v)<br>{<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>}<br>int a[MAXN];<br>int in[MAXN];<br>int tmpin[MAXN];<br>int solve(int s,int n)<br>{<br>    for(int i = 1;i &lt;= n;i++)<br>        in[i] = tmpin[i];<br>    queue<int>q[2];<br>    for(int i = 1;i &lt;= n;i++)<br>        if(in[i] == 0)<br>            q[a[i]].push(i);<br>    int now = s;<br>    int ans = 0;<br>    int cnt = 0;<br>    while(1)<br>    {<br>        if(q[now].empty())break;<br>        ans++;<br>        while(!q[now].empty())<br>        {<br>            int u = q[now].front();<br>            q[now].pop();<br>            cnt++;<br>            for(int i = head[u];i != -1;i = edge[i].next)<br>            {<br>                int v = edge[i].to;<br>                in[v]–;<br>                if(in[v] == 0)<br>                    q[a[v]].push(v);<br>            }<br>        }<br>        now ^= 1;<br>    }<br>    if(cnt != n)return INF;<br>    return ans-1;<br>}</int></p>
<p>int main()<br>{<br>    //freopen(“in.txt”,”r”,stdin);<br>    //freopen(“out.txt”,”w”,stdout);<br>    int T;<br>    int n,m;<br>    int u,v;<br>    scanf(“%d”,&amp;T);<br>    while(T–)<br>    {<br>        scanf(“%d%d”,&amp;n,&amp;m);<br>        for(int i = 1;i &lt;= n;i++)<br>        {<br>            scanf(“%d”,&amp;a[i]);<br>            a[i]–;<br>        }<br>        init();<br>        for(int i = 1;i &lt;= n;i++)<br>        {<br>            head[i] = -1;<br>            in[i] = 0;<br>        }<br>        //memset(in,0,sizeof(in));<br>        while(m–)<br>        {<br>            scanf(“%d%d”,&amp;u,&amp;v);<br>            addedge(u,v);<br>            in[v]++;<br>        }<br>        for(int i = 1;i &lt;= n;i++)tmpin[i] = in[i];<br>        printf(“%d\n”,min(solve(0,n),solve(1,n)));<br>    }<br>    return 0;<br>}</p>

          
        
      
    </div>

    

    
    
    
	
	<div>
      
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/blogLogo.jpg"
                alt="kuangbin" />
            
              <p class="site-author-name" itemprop="name">kuangbin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">127</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">150</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">53</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/kuangbin" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.linkedin.com/in/kuangbin/" target="_blank" title="Linkedin"><i class="fa fa-fw fa-globe"></i>Linkedin</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:kuangbin2009@126.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/kuang-bin-95" target="_blank" title="zhihu"><i class="fa fa-fw fa-globe"></i>zhihu</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://www.cnblogs.com/kuangbin/" target="_blank" title="cnblogs"><i class="fa fa-fw fa-globe"></i>cnblogs</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://wpa.qq.com/msgrd?v=3&uin=1691626124&site=qq&menu=yes" target="_blank" title="QQ"><i class="fa fa-fw fa-globe"></i>QQ</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-友情链接"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.cnblogs.com/kuangbin/" title="我的博客园" target="_blank">我的博客园</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://zhiyi.live/" title="MoonChasing" target="_blank">MoonChasing</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://taowusheng.cn/" title="YIFEI" target="_blank">YIFEI</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kuangbin</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Pisces</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.3.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
